(()=>{"use strict";var e={726:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.component=void 0;const n=r(383);t.component=(e,t)=>(r,a)=>{if(!r)throw new Error("component called without id");const o=Object.assign(Object.assign({},a),{id:r}),i=t?"object"==typeof t?t:t(o):{};return(0,n.renderComponent)(r,e,o,i)}},671:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Router=t.Link=t.navigate=void 0;const n=r(124),a=(0,n.createState)({currentRoute:"/"});t.navigate=e=>{history.pushState(null,"",e),a.currentRoute=e},t.Link=(0,n.component)((({to:e,children:r})=>n.html`
    <a
      href="${e}"
      onclick="${(0,n.handler)((r=>{r.preventDefault(),(0,t.navigate)(e)}))}"
    >
      ${r}
    </a>
  `)),t.Router=(0,n.component)((({routerId:e,routes:t={}})=>(t[a.currentRoute]||t["*"])(`${e}/${a.currentRoute}`))),window.addEventListener("popstate",(()=>{a.currentRoute=window.location.pathname}))},233:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(671),t)},62:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LITSTATE=void 0,t.LITSTATE={handlersPerComponent:{},components:{},componentsCurrentProps:{},elementsWithIds:{},listenerBeingExecuted:null,componentBeingRendered:null},Object.assign(window,{LITSTATE:t.LITSTATE})},47:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handler=void 0;const n=r(62);t.handler=e=>{const t=n.LITSTATE.componentBeingRendered||"global",r=Math.random().toString().replace("0.","lsHandler");return n.LITSTATE.handlersPerComponent[t]||(n.LITSTATE.handlersPerComponent[t]={}),n.LITSTATE.handlersPerComponent[t][r]=(t,r)=>e(t,r),`window.LITSTATE.handlersPerComponent['${t}']['${r}'](event, this)`}},134:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.html=void 0,t.html=(e,...t)=>{let r="";for(let n=0;n<e.length;n++)r+=e[n],n<t.length&&(r+=t[n]);return r}},124:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(132),t),a(r(726),t),a(r(47),t),a(r(134),t),a(r(433),t)},433:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mount=void 0;const n=r(661);t.mount=(e,t)=>{(0,n.updateComponentInDom)(t,e)}},955:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.recursivelyUpdateComponentInDom=t.tempId=void 0;const r=(e,t)=>{if(e.isEqualNode(t))return;if(((e,t)=>{if(e.nodeType===Node.ELEMENT_NODE&&t.nodeType===Node.ELEMENT_NODE){const r=e,n=t;for(const e of r.getAttributeNames())r.getAttribute(e)!==n.getAttribute(e)&&n.setAttribute(e,r.getAttribute(e));for(const e of n.getAttributeNames())r.hasAttribute(e)||n.removeAttribute(e)}})(e,t),e.isEqualNode(t))return;const n=e.hasChildNodes(),a=t.hasChildNodes();if(n&&a){const n=Array.from(e.childNodes),a=Array.from(t.childNodes);for(n.forEach(((e,n)=>{if(!e)return;const o=a[n];o?r(e,o):t.appendChild(e.cloneNode(!0))}));a.length>n.length;){const e=a.findIndex((e=>!n.includes(e)));if(e<0)throw new Error("couldnt find childnode to remove");t.removeChild(a[e]),a.splice(e,1)}if(e.isEqualNode(t))return;if(!e.hasChildNodes())throw new Error("ran out of child nodes")}t.replaceWith(e.cloneNode(!0))};t.tempId="__LITSTATE__TEMP__ID__",t.recursivelyUpdateComponentInDom=(e,t)=>{if(!t)return;const n=document.getElementById(e);if(!n)return;const a=(new DOMParser).parseFromString(`<body>${t}</body>`,"text/html").body.firstElementChild;if(!a)return console.warn("empty element rendered"),void(n.innerHTML="");r(a,n)}},383:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderComponent=void 0;const n=r(62),a=r(132),o=r(955),i=n.LITSTATE.componentsCurrentProps;t.renderComponent=(e,t,r,s)=>{const l=n.LITSTATE.componentBeingRendered;n.LITSTATE.componentBeingRendered=e;const c=(0,a.addListener)((()=>{const a=`<span id="${e}" ${Object.keys(s).map((e=>`${e}="${s[e]}"`)).join(" ")}>${t(r||i[e])}</span>`;return n.LITSTATE.componentsCurrentProps[e]=r,(0,o.recursivelyUpdateComponentInDom)(e.toString(),a),a}),`renderListener-${e}`);return n.LITSTATE.componentBeingRendered=l,c}},132:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createState=t.addListener=void 0;let r=null;const n={};t.addListener=(e,t)=>{const a=r;r=t,n[t]=e;const o=e();return r=a,o},t.createState=e=>{if(null===e)return null;let a;Array.isArray(e)?a=e.map((e=>"object"==typeof e?(0,t.createState)(e):e)):(a=Object.assign({},e),Object.keys(a).forEach((e=>{"object"==typeof a[e]&&(a[e]=(0,t.createState)(a[e]))})));const o={},i=e=>(o[e]||[]).forEach((e=>n[e]()));return new Proxy(a,{get:(e,t)=>{const n=t.toString();return r&&((o[n]||[]).includes(r)||(o[n]||(o[n]=[]),o[n].push(r))),e[n]},set:(e,r,n)=>{const a=r.toString();return"object"==typeof n&&null!==n?(e[a]=(0,t.createState)(Array.isArray(n)?n.slice():Object.assign({},n)),i(a),!0):(e[a]=n,i(a),!0)}})}},661:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateComponentInDom=void 0;const n=r(62),a=e=>{const t={};return function e(r){r.id&&!r.id.startsWith("lsComponent")&&(t[r.id]=r);for(const t of Array.from(r.children))e(t)}(e),t};t.updateComponentInDom=(e,t)=>{const r=(new DOMParser).parseFromString(`<body>${t}</body>`,"text/html").body.firstElementChild;if(!r)return void(e.innerHTML="");const o=a(r);if(!o){for(;e.firstChild;)e.removeChild(e.firstChild);return void e.appendChild(r)}if(Object.keys(o).reduce(((e,t)=>!n.LITSTATE.elementsWithIds[t]||(((e,t)=>{for(const{name:r,value:n}of Array.from(e.attributes))t.getAttribute(r)!==n&&t.setAttribute(r,n)})(o[t],n.LITSTATE.elementsWithIds[t]),e)),!1)){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(r);const t=a(e);return void Object.assign(n.LITSTATE.elementsWithIds,t)}if(r.isEqualNode(e.firstElementChild))return;for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(r);const i=a(e);Object.assign(n.LITSTATE.elementsWithIds,i)}},855:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(81),a=r.n(n),o=r(645),i=r.n(o)()(a());i.push([e.id,'*{box-sizing:border-box}body{margin:0;font-family:Arial,sans-serif}.wrapper{display:grid;grid-template-columns:0 1fr;grid-template-rows:auto 1fr;grid-template-areas:"header header" "left main";height:100vh;transition:grid-template-columns .3s,grid-template-rows .3s}.header{grid-area:header;background-color:#2196f3;color:#fff;display:flex;justify-content:space-between;align-items:center;position:relative;z-index:2;justify-content:flex-start}.header-nav{padding:1rem}.left-bar{grid-area:left;background-color:#f5f5f5;padding:1rem;overflow-y:auto;display:block;position:fixed;top:50px;left:0;bottom:0;z-index:1;-webkit-transform:translateX(-100%);transform:translateX(-100%);transition:transform .3s ease-in-out;width:200px;opacity:.9}.left-bar.open{z-index:10;display:block;-webkit-transform:translateX(0);transform:translateX(0);transition:transform .3s ease-in-out}.main{grid-area:main;padding:0 0;overflow-y:hidden;transition:grid-template-columns .3s,grid-template-rows .3s}.hamburger{display:none;cursor:pointer;margin-right:auto;padding:.5rem 1rem 0 1rem;line-height:2rem}.hamburger-svg{height:1.5rem}@media(min-width: 1200px){.wrapper{grid-template-columns:200px 1fr;grid-template-rows:auto 1fr;grid-template-areas:"header header" "left main";transition:grid-template-columns .3s,grid-template-rows .3s}.left-bar{display:block;position:fixed;bottom:0;transform:translateX(0);transition:transform .3s ease-in-out}.hamburger{display:none}.main{padding:1rem}}@media(max-width: 1200px){.hamburger{display:block}}',""]);const s=i},865:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(81),a=r.n(n),o=r(645),i=r.n(o)()(a());i.push([e.id,".board{display:grid;grid-template-columns:repeat(8, 1fr);grid-gap:0;width:100%;padding-bottom:100%;position:relative}.board-container{display:block;width:calc(100vw - 0px);height:calc(100vh - 0px);max-width:calc(min(100vw, 100vh - 80px) - 0px);max-height:calc(min(100vw, 100vh - 80px) - 0px);position:relative;overflow:hidden}",""]);const s=i},214:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(81),a=r.n(n),o=r(645),i=r.n(o)()(a());i.push([e.id,".square-wrapper{position:absolute;width:12.5%;height:12.5%}.square-wrapper:nth-child(1){top:0%;left:0%}.square-wrapper:nth-child(2){top:0%;left:12.5%}.square-wrapper:nth-child(3){top:0%;left:25%}.square-wrapper:nth-child(4){top:0%;left:37.5%}.square-wrapper:nth-child(5){top:0%;left:50%}.square-wrapper:nth-child(6){top:0%;left:62.5%}.square-wrapper:nth-child(7){top:0%;left:75%}.square-wrapper:nth-child(8){top:0%;left:87.5%}.square-wrapper:nth-child(9){top:12.5%;left:0%}.square-wrapper:nth-child(10){top:12.5%;left:12.5%}.square-wrapper:nth-child(11){top:12.5%;left:25%}.square-wrapper:nth-child(12){top:12.5%;left:37.5%}.square-wrapper:nth-child(13){top:12.5%;left:50%}.square-wrapper:nth-child(14){top:12.5%;left:62.5%}.square-wrapper:nth-child(15){top:12.5%;left:75%}.square-wrapper:nth-child(16){top:12.5%;left:87.5%}.square-wrapper:nth-child(17){top:25%;left:0%}.square-wrapper:nth-child(18){top:25%;left:12.5%}.square-wrapper:nth-child(19){top:25%;left:25%}.square-wrapper:nth-child(20){top:25%;left:37.5%}.square-wrapper:nth-child(21){top:25%;left:50%}.square-wrapper:nth-child(22){top:25%;left:62.5%}.square-wrapper:nth-child(23){top:25%;left:75%}.square-wrapper:nth-child(24){top:25%;left:87.5%}.square-wrapper:nth-child(25){top:37.5%;left:0%}.square-wrapper:nth-child(26){top:37.5%;left:12.5%}.square-wrapper:nth-child(27){top:37.5%;left:25%}.square-wrapper:nth-child(28){top:37.5%;left:37.5%}.square-wrapper:nth-child(29){top:37.5%;left:50%}.square-wrapper:nth-child(30){top:37.5%;left:62.5%}.square-wrapper:nth-child(31){top:37.5%;left:75%}.square-wrapper:nth-child(32){top:37.5%;left:87.5%}.square-wrapper:nth-child(33){top:50%;left:0%}.square-wrapper:nth-child(34){top:50%;left:12.5%}.square-wrapper:nth-child(35){top:50%;left:25%}.square-wrapper:nth-child(36){top:50%;left:37.5%}.square-wrapper:nth-child(37){top:50%;left:50%}.square-wrapper:nth-child(38){top:50%;left:62.5%}.square-wrapper:nth-child(39){top:50%;left:75%}.square-wrapper:nth-child(40){top:50%;left:87.5%}.square-wrapper:nth-child(41){top:62.5%;left:0%}.square-wrapper:nth-child(42){top:62.5%;left:12.5%}.square-wrapper:nth-child(43){top:62.5%;left:25%}.square-wrapper:nth-child(44){top:62.5%;left:37.5%}.square-wrapper:nth-child(45){top:62.5%;left:50%}.square-wrapper:nth-child(46){top:62.5%;left:62.5%}.square-wrapper:nth-child(47){top:62.5%;left:75%}.square-wrapper:nth-child(48){top:62.5%;left:87.5%}.square-wrapper:nth-child(49){top:75%;left:0%}.square-wrapper:nth-child(50){top:75%;left:12.5%}.square-wrapper:nth-child(51){top:75%;left:25%}.square-wrapper:nth-child(52){top:75%;left:37.5%}.square-wrapper:nth-child(53){top:75%;left:50%}.square-wrapper:nth-child(54){top:75%;left:62.5%}.square-wrapper:nth-child(55){top:75%;left:75%}.square-wrapper:nth-child(56){top:75%;left:87.5%}.square-wrapper:nth-child(57){top:87.5%;left:0%}.square-wrapper:nth-child(58){top:87.5%;left:12.5%}.square-wrapper:nth-child(59){top:87.5%;left:25%}.square-wrapper:nth-child(60){top:87.5%;left:37.5%}.square-wrapper:nth-child(61){top:87.5%;left:50%}.square-wrapper:nth-child(62){top:87.5%;left:62.5%}.square-wrapper:nth-child(63){top:87.5%;left:75%}.square-wrapper:nth-child(64){top:87.5%;left:87.5%}.square{display:flex;justify-content:center;align-items:center;width:100%;height:100%;position:relative}.square .cell-svg-container{position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%}.square .cell-svg-container .piece-svg{height:calc(min(100vw,100vh - 100px)/11)}.white{background-color:#f0d9b5}.black{background-color:#b58863}.selected{background:radial-gradient(circle, rgb(251, 154, 63) 43%, rgba(0, 0, 0, 0) 100%)}.highlighted{background:radial-gradient(circle, rgb(251, 154, 63) 43%, rgba(0, 0, 0, 0) 100%)}",""]);const s=i},415:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(81),a=r.n(n),o=r(645),i=r.n(o)()(a());i.push([e.id,".game-wrapper{display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto 1fr;height:100%}.chessboard-wrapper{grid-column:1/1;grid-row:1/2}.right-panel{grid-column:1/1;grid-row:2/2;background-color:red}@media(min-width: 1040px){.chessboard-wrapper{grid-column:1/2;grid-row:1/1}.right-panel{grid-column:2/2;grid-row:1/1}}@media(min-width: 1040px){.chessboard-wrapper{padding:0 1rem}}",""]);const s=i},169:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(81),a=r.n(n),o=r(645),i=r.n(o)()(a());i.push([e.id,"body{background-color:silver}",""]);const s=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);n&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},252:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var n=r(379),a=r.n(n),o=r(795),i=r.n(o),s=r(569),l=r.n(s),c=r(565),d=r.n(c),p=r(216),u=r.n(p),h=r(589),f=r.n(h),m=r(855),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=u(),a()(m.Z,v);const b=m.Z&&m.Z.locals?m.Z.locals:void 0},460:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var n=r(379),a=r.n(n),o=r(795),i=r.n(o),s=r(569),l=r.n(s),c=r(565),d=r.n(c),p=r(216),u=r.n(p),h=r(589),f=r.n(h),m=r(865),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=u(),a()(m.Z,v);const b=m.Z&&m.Z.locals?m.Z.locals:void 0},657:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var n=r(379),a=r.n(n),o=r(795),i=r.n(o),s=r(569),l=r.n(s),c=r(565),d=r.n(c),p=r(216),u=r.n(p),h=r(589),f=r.n(h),m=r(214),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=u(),a()(m.Z,v);const b=m.Z&&m.Z.locals?m.Z.locals:void 0},345:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var n=r(379),a=r.n(n),o=r(795),i=r.n(o),s=r(569),l=r.n(s),c=r(565),d=r.n(c),p=r(216),u=r.n(p),h=r(589),f=r.n(h),m=r(415),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=u(),a()(m.Z,v);const b=m.Z&&m.Z.locals?m.Z.locals:void 0},927:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var n=r(379),a=r.n(n),o=r(795),i=r.n(o),s=r(569),l=r.n(s),c=r(565),d=r.n(c),p=r(216),u=r.n(p),h=r(589),f=r.n(h),m=r(169),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=i(),v.insertStyleElement=u(),a()(m.Z,v);const b=m.Z&&m.Z.locals?m.Z.locals:void 0},379:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var o={},i=[],s=0;s<e.length;s++){var l=e[s],c=n.base?l[0]+n.base:l[0],d=o[c]||0,p="".concat(c," ").concat(d);o[c]=d+1;var u=r(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var f=a(h,n);n.byIndex=s,t.splice(s,0,{identifier:p,updater:f,references:1})}i.push(p)}return i}function a(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var o=n(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=r(o[i]);t[s].references--}for(var l=n(e,a),c=0;c<o.length;c++){var d=r(o[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=l}}},569:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,a&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},265:function(e,t,r){var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var a=r(124),o=r(233),i=r(538),s=r(733),l=r(860);r(252);var c,d=(0,a.handler)((function(){return(0,l.toggleLeftBar)()})).trim();t.App=(0,a.component)((function(){return(0,a.html)(c||(c=n(['\n    <div class="wrapper">\n      <div class="header">\n        <div\n          id="hamburger"\n          class="hamburger"\n          onclick="','"\n        >\n          <img\n            class="hamburger-svg"\n            src="assets/svg/Hamburger_icon.svg"\n            alt="Toggle left menu bar"\n          />\n        </div>\n        ',"\n      </div>\n      ",'\n      <div class="main">',"</div>\n    </div>\n  "],['\n    <div class="wrapper">\n      <div class="header">\n        <div\n          id="hamburger"\n          class="hamburger"\n          onclick="','"\n        >\n          <img\n            class="hamburger-svg"\n            src="assets/svg/Hamburger_icon.svg"\n            alt="Toggle left menu bar"\n          />\n        </div>\n        ',"\n      </div>\n      ",'\n      <div class="main">',"</div>\n    </div>\n  "])),d,(0,s.HeaderNav)("header-nav"),(0,l.LeftBar)("left-bar"),(0,o.Router)("router",{routes:i.routes}))}))},990:function(e,t,r){var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Chessboard=void 0,r(460);var a,o=r(124),i=r(866),s=r(78);t.Chessboard=(0,o.component)((function(){for(var e="",t=0,r=0,l=i.chessboardState.prevFen.split(" ")[0].split("/").join("");r<l.length;r++){var c=l[r];if(isNaN(parseInt(c)))e+=(0,s.BoardCell)("board-cell-".concat(t),{index:t,char:c}),t+=1;else for(var d=0;d<parseInt(c);d++)e+=(0,s.BoardCell)("board-cell-".concat(t),{index:t}),t+=1}return(0,o.html)(a||(a=n(['<div class="board">',"</div>"],['<div class="board">',"</div>"])),e)}),{class:"board-container"})},221:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.animateBoardChanges=void 0;var o=r(391),i=r(78),s=r(866);t.animateBoardChanges=function(e){return void 0===e&&(e=.5),n(void 0,void 0,void 0,(function(){function t(e){return{x:100*(e.charCodeAt(0)-97),y:100*(8-parseInt(e.charAt(1)))}}var r,n,l,c,d;return a(this,(function(a){return(r=document.querySelector(".board"))?(n=(0,o.getFenDiff)(s.chessboardState.prevFen,s.chessboardState.fen),l=n.addedPieces,c=n.removedPieces,d=n.movedPieces,c.forEach((function(t){var n=t.square,a=r.querySelector('[data-square="'.concat(n,'"]'));a.style.transition="transform ".concat(e,"s ease-out"),a.style.transform="scale(0)",a.addEventListener("transitionend",(function(){}))})),d.forEach((function(n){n.piece;var a=n.from,o=n.to,i=r.querySelector('[data-square="'.concat(a,'"]')),s=function(e,r){var n=t(e),a=t(r);return{x:a.x-n.x,y:a.y-n.y}}(a,o);i.style.zIndex="1",i.style.transition="transform ".concat(e,"s ease-out"),i.style.transform="translate(".concat(s.x,"%, ").concat(s.y,"%)"),i.style.transformOrigin="0 0",i.addEventListener("transitionend",(function(){}))})),l.forEach((function(t){var r=t.piece,n=t.square,a=document.createElement("div");a.innerHTML=(0,i.BoardCellContent)("board-cell-content-".concat(n,"-temp"),{char:r,cellStr:n}),a.style.transform="scale(0)",document.getElementById("board-square-".concat(n)).appendChild(a),setTimeout((function(){a.style.transition="transform ".concat(e,"s ease-out"),a.style.transform="scale(1)",a.addEventListener("transitionend",(function(){}))}),0)})),[2,new Promise((function(t){return setTimeout(t,1e3*e)}))]):[2]}))}))}},866:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.chessboardState=void 0;var o=r(124),i=r(221),s="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",l=["g1f3","g1h3","b1a3","b1c3","h2h3","h2h4","g2g3","g2g4","f2f3","f2f4","e2e3","e2e4","d2d3","d2d4","c2c3","c2c4","b2b3","b2b4","a2a3","a2a4"],c=new Array(64).fill(255),d=c.slice(),p=function(e){return Object.keys(e.reduce((function(e,t){return e[t.substring(0,2)]=!0,e}),{}))},u=p(l);t.chessboardState=(0,o.createState)({fen:s,prevFen:s,nextMoves:l,movableCells:u,targetCells:{},chessBoardUpdating:!1,selectedCell:null,lmf:c,lmt:d,makeMove:function(e){return n(void 0,void 0,void 0,(function(){return a(this,(function(e){return[2]}))}))}}),t.chessboardState.makeMove=function(e){return n(void 0,void 0,void 0,(function(){var r,n,o,i;return a(this,(function(a){switch(a.label){case 0:return[4,window.CHSS.mainWorker.do("getMovedFen",{moveString:e,fen:t.chessboardState.fen,lmf:Array.from(t.chessboardState.lmf),lmt:Array.from(t.chessboardState.lmt)})];case 1:return r=a.sent(),n=r.fen,o=r.lmf,i=r.lmt,Object.assign(t.chessboardState,{fen:n,lmf:o,lmt:i}),[2]}}))}))},(0,o.addListener)((function(){t.chessboardState.prevFen===t.chessboardState.fen||t.chessboardState.chessBoardUpdating||(Object.assign(t.chessboardState,{chessBoardUpdating:!0,selectedCell:null,targetCells:[]}),(0,i.animateBoardChanges)(.3).then((function(){Object.assign(t.chessboardState,{prevFen:t.chessboardState.fen,chessBoardUpdating:!1}),"b"===t.chessboardState.fen.split(" ")[1]&&window.CHSS.mainWorker.do("getAiMovedFen",{fen:t.chessboardState.fen,lmf:Array.from(t.chessboardState.lmf),lmt:Array.from(t.chessboardState.lmt)}).then((function(e){return Object.assign(t.chessboardState,e)}))})),window.CHSS.mainWorker.do("getNextMoves",{fen:t.chessboardState.fen}).then((function(e){var r=p(e);Object.assign(t.chessboardState,{nextMoves:e,movableCells:r})})))}),"fen-update-listener"),(0,o.addListener)((function(){t.chessboardState.selectedCell&&t.chessboardState.nextMoves&&0!==t.chessboardState.nextMoves.length?t.chessboardState.targetCells=t.chessboardState.nextMoves.reduce((function(e,r){return r.startsWith(t.chessboardState.selectedCell)&&(e[r.substring(2,4)]=!0),e}),{}):t.chessboardState.targetCells={}}),"selected-cell-listener")},78:function(e,t,r){var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.BoardCell=t.BoardCellContent=void 0,r(657);var a,o,i=r(124),s=r(651),l=r(420),c=r(866);r(387).CHSS.handlers.cellClickHandler=function(e){if(c.chessboardState.selectedCell===e)c.chessboardState.selectedCell=null;else if(c.chessboardState.movableCells.includes(e))c.chessboardState.selectedCell=e;else if(c.chessboardState.targetCells[e]){var t=c.chessboardState.selectedCell+e;c.chessboardState.makeMove(t)}},t.BoardCellContent=(0,i.component)((function(e){var t=e.char,r=e.cellStr;return t?(0,i.html)(a||(a=n(['<img\n          id="piece-svg-',"-",'"\n          class="piece-svg"\n          src="assets/svg/','"\n          alt="'," on ",'"\n        />'],['<img\n          id="piece-svg-',"-",'"\n          class="piece-svg"\n          src="assets/svg/','"\n          alt="'," on ",'"\n        />'])),r,t,s.pieceFilenames[t],s.pieceNames[t],r):""}),(function(e){var t=e.cellStr;return{class:"cell-svg-container".concat(c.chessboardState.selectedCell===t?" selected":"").concat(c.chessboardState.targetCells[t]?" highlighted":""),"data-square":t}})),t.BoardCell=(0,i.component)((function(e){var r=e.index,a=e.char,s=(0,l.cellIndex2cellStr)(r);return(0,i.html)(o||(o=n(['<div\n      id="board-square-','"\n      onclick="CHSS.handlers.cellClickHandler(\'','\')"\n      class="square ','"\n    >\n      ',"\n    </div> "],['<div\n      id="board-square-','"\n      onclick="CHSS.handlers.cellClickHandler(\'','\')"\n      class="square ','"\n    >\n      ',"\n    </div> "])),s,s,(r+Math.floor(r/8))%2?"black":"white",(0,t.BoardCellContent)("board-cell-content-".concat(s),{cellStr:s,char:a}))}),{class:"square-wrapper"})},255:function(e,t,r){var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var a,o=r(124),i=r(990);r(345),t.Game=(0,o.component)((function(){return(0,o.html)(a||(a=n(['\n    <div class="game-wrapper">\n      <div class="chessboard-wrapper">','</div>\n      <div class="right-panel">this is the right panel</div>\n    </div>\n  '],['\n    <div class="game-wrapper">\n      <div class="chessboard-wrapper">','</div>\n      <div class="right-panel">this is the right panel</div>\n    </div>\n  '])),(0,i.Chessboard)("main-chessboard"))}))},733:function(e,t,r){var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderNav=void 0;var a,o=r(124),i=r(233);t.HeaderNav=(0,o.component)((function(){return(0,o.html)(a||(a=n(['<div class="header-nav">\n      Header ',"\n    </div>"],['<div class="header-nav">\n      Header ',"\n    </div>"])),(0,i.Link)("nav-link-to-game",{to:"/game",children:"Game"}))}))},860:function(e,t,r){var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.LeftBar=t.toggleLeftBar=void 0;var a,o=r(124),i=(0,o.createState)({leftBarClass:"closed"});t.toggleLeftBar=function(){i.leftBarClass="open"===i.leftBarClass?"closed":"open"},t.LeftBar=(0,o.component)((function(){return(0,o.html)(a||(a=n(['\n    <div id="left-bar" class="left-bar ','">\n      <p>Left bar content...</p>\n    </div>\n  '],['\n    <div id="left-bar" class="left-bar ','">\n      <p>Left bar content...</p>\n    </div>\n  '])),i.leftBarClass)}))},387:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CHSS=void 0;var n=r(866);t.CHSS={handlers:{},setFen:function(e){return n.chessboardState.fen=e}},Object.assign(window,{CHSS:t.CHSS})},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pieceNames=t.pieceFilenames=t.pieceChars=void 0,t.pieceChars={K:{char:"♔",class:"white-piece"},Q:{char:"♕",class:"white-piece"},R:{char:"♖",class:"white-piece"},B:{char:"♗",class:"white-piece"},N:{char:"♘",class:"white-piece"},P:{char:"♙",class:"white-piece"},k:{char:"♚",class:"black-piece"},q:{char:"♛",class:"black-piece"},r:{char:"♜",class:"black-piece"},b:{char:"♝",class:"black-piece"},n:{char:"♞",class:"black-piece"},p:{char:"♟︎",class:"black-piece"}},t.pieceFilenames={K:"Chess_klt45.svg",Q:"Chess_qlt45.svg",R:"Chess_rlt45.svg",B:"Chess_blt45.svg",P:"Chess_plt45.svg",N:"Chess_nlt45.svg",k:"Chess_kdt45.svg",q:"Chess_qdt45.svg",r:"Chess_rdt45.svg",b:"Chess_bdt45.svg",n:"Chess_ndt45.svg",p:"Chess_pdt45.svg"},t.pieceNames={K:"Light King",Q:"Light Queen",R:"Light Rook",B:"Light Bishop",P:"Light Pawn",N:"Light Knight",k:"Dark King",q:"Dark Queen",r:"Dark Rook",b:"Dark Bishop",n:"Dark Knight",p:"Dark Pawn"}},538:function(e,t,r){var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.routes=void 0;var a,o=r(124),i=r(255);t.routes={"/":i.Game,"/game":i.Game,"*":function(){return(0,o.html)(a||(a=n(["<h1>404 Not Found</h1>"],["<h1>404 Not Found</h1>"])))}}},420:(e,t,r)=>{r.r(t),r.d(t,{cellIndex2cellStr:()=>n});const n=e=>`${String.fromCharCode(e%8+97)}${8-Math.floor(e/8)}`},391:(e,t,r)=>{r.r(t),r.d(t,{getFenDiff:()=>o});const n=e=>{const t=e.split(" ")[0].split("/"),r=[];return t.forEach(((e,t)=>{r[t]=[];let n=0;for(const a of e)if(isNaN(parseInt(a)))r[t][n]=a,n++;else for(let e=0;e<parseInt(a);e++)r[t][n]="-",n++})),r},a=(e,t)=>e.map((e=>t.map((t=>{const r=((e,t)=>Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1]))(e,t);return{distance:r,source:`${String.fromCharCode(97+e[0])}${8-e[1]}`,target:`${String.fromCharCode(97+t[0])}${8-t[1]}`}})))).flat().sort(((e,t)=>t.distance-e.distance)),o=(e,t)=>{const r=n(e),o=n(t),{addedPieces:i,removedPieces:s}=((e,t)=>{const r={},n={};for(let a=0;a<e.length;a++)for(let o=0;o<e[a].length;o++){const i=e[a][o],s=t[a][o];i!==s&&("-"!==i&&(n[i]=[...n[i]||[],[o,a]]),"-"!==s&&(r[s]=[...r[s]||[],[o,a]]))}return{addedPieces:r,removedPieces:n}})(r,o),l=[],c=[],d=[];for(const e of Object.keys({...s,...i})){const t=s[e],r=i[e],n=(r||[]).map((([e,t])=>`${String.fromCharCode(97+e)}${8-t}`));if(!t||!t.length){c.push(...n.map((t=>({square:t,piece:e}))));continue}const o=t.map((([e,t])=>`${String.fromCharCode(97+e)}${8-t}`));if(!r||!r.length){d.push(...o.map((e=>({square:e}))));continue}const p=a(t,r);for(;o.length&&n.length&&p.length;){const t=p.pop();o.includes(t.source)&&n.includes(t.target)&&(l.push({piece:e,from:t.source,to:t.target}),o.splice(o.indexOf(t.source),1),n.splice(n.indexOf(t.target),1))}c.push(...n.map((t=>({square:t,piece:e})))),d.push(...o.map((e=>({square:e}))))}return{addedPieces:c,removedPieces:d,movedPieces:l}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={id:n,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0,(()=>{var e=r(124),t=r(265);r(927);var n=document.getElementById("app-container");n&&(0,e.mount)((0,t.App)("app-root"),n)})()})();