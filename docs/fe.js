(()=>{"use strict";var e,t,n={542:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".result-numbers{margin:0}.winner-text{color:#555}",""]);const s=i},3049:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".accordion{overflow:hidden}.accordion .accordion-item{overflow:hidden;margin-bottom:5px}.accordion .accordion-item:last-of-type{margin-bottom:0}.accordion .accordion-item .accordion-header{background:#f5f5f5;padding:.5rem;border:none;width:100%;text-align:left;cursor:pointer;font-size:1rem;transition:border-radius .5s,background .5s;position:relative;z-index:1}.accordion .accordion-item .accordion-header.active{border-radius:.3rem .3rem 0 0}.accordion .accordion-item .accordion-header:hover{background:#e9e9e9}.accordion .accordion-item .accordion-header .chevron{position:absolute;right:15px;top:50%;transform:translateY(-50%);border:solid #000;border-width:0 2px 2px 0;display:inline-block;padding:3px;transition:transform .5s;rotate:-45deg}.accordion .accordion-item .accordion-header .chevron.rotated{transform:translateY(-50%) rotate(90deg)}.accordion .accordion-item .accordion-content{z-index:0;max-height:0;overflow:hidden;transition:max-height .5s,transform .5s;transform:translateY(-100%);padding:0}.accordion .accordion-item .accordion-content.active{transform:translateY(0)}",""]);const s=i},5855:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,'*{box-sizing:border-box}body{margin:0;font-family:Arial,sans-serif;background-color:#42403d;touch-action:manipulation}.wrapper{display:grid;grid-template-columns:0 1fr;grid-template-rows:auto 1fr;grid-template-areas:"header header" "left main";height:100vh;transition:grid-template-columns .3s,grid-template-rows .3s}.main{grid-area:main;padding:0 1rem 0 0;overflow-y:hidden;transition:grid-template-columns .3s,grid-template-rows .3s}@media(min-width: 1200px){.wrapper{grid-template-columns:200px 1fr;grid-template-rows:auto 1fr;grid-template-areas:"header header" "left main";transition:grid-template-columns .3s,grid-template-rows .3s}.main{padding:0 1rem}}.spinner{display:inline-block;width:15px;height:15px;margin:0 4px -2px 1px;border-radius:50%;border:2px solid rgba(255,255,255,.2);border-top-color:#3498db;animation:spin 1s ease-in-out infinite}@keyframes spin{to{transform:rotate(360deg)}}',""]);const s=i},8312:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".chessboard-canvas{position:absolute;top:0;left:0;z-index:1;pointer-events:none}",""]);const s=i},6673:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".button-container{display:inline-block}.button-container button{padding:15px 32px;text-align:center;font-size:16px;margin:4px 2px;cursor:pointer;box-shadow:0 2px 5px rgba(0,0,0,.26)}.button-container button:hover{padding:16px 33px;margin:3px 1px}",""]);const s=i},1795:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".main-board{display:grid;grid-template-columns:repeat(8, 1fr);grid-gap:0;width:100%;padding-bottom:100%;position:relative;transition:transform .75s ease-in-out;user-select:none;-webkit-user-select:none}.main-board.upside-down{transform:rotate(180deg)}.main-board-container{display:block;width:calc(100vw - 0px);height:calc(100vh - 0px);max-width:calc(min(100vw, 100vh - 50px) - 0px);max-height:calc(min(100vw, 100vh - 50px) - 0px);position:relative;overflow:hidden}",""]);const s=i},4214:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".square-wrapper{position:absolute;width:12.5%;height:12.5%}.square-wrapper:nth-child(1){top:0%;left:0%}.square-wrapper:nth-child(2){top:0%;left:12.5%}.square-wrapper:nth-child(3){top:0%;left:25%}.square-wrapper:nth-child(4){top:0%;left:37.5%}.square-wrapper:nth-child(5){top:0%;left:50%}.square-wrapper:nth-child(6){top:0%;left:62.5%}.square-wrapper:nth-child(7){top:0%;left:75%}.square-wrapper:nth-child(8){top:0%;left:87.5%}.square-wrapper:nth-child(9){top:12.5%;left:0%}.square-wrapper:nth-child(10){top:12.5%;left:12.5%}.square-wrapper:nth-child(11){top:12.5%;left:25%}.square-wrapper:nth-child(12){top:12.5%;left:37.5%}.square-wrapper:nth-child(13){top:12.5%;left:50%}.square-wrapper:nth-child(14){top:12.5%;left:62.5%}.square-wrapper:nth-child(15){top:12.5%;left:75%}.square-wrapper:nth-child(16){top:12.5%;left:87.5%}.square-wrapper:nth-child(17){top:25%;left:0%}.square-wrapper:nth-child(18){top:25%;left:12.5%}.square-wrapper:nth-child(19){top:25%;left:25%}.square-wrapper:nth-child(20){top:25%;left:37.5%}.square-wrapper:nth-child(21){top:25%;left:50%}.square-wrapper:nth-child(22){top:25%;left:62.5%}.square-wrapper:nth-child(23){top:25%;left:75%}.square-wrapper:nth-child(24){top:25%;left:87.5%}.square-wrapper:nth-child(25){top:37.5%;left:0%}.square-wrapper:nth-child(26){top:37.5%;left:12.5%}.square-wrapper:nth-child(27){top:37.5%;left:25%}.square-wrapper:nth-child(28){top:37.5%;left:37.5%}.square-wrapper:nth-child(29){top:37.5%;left:50%}.square-wrapper:nth-child(30){top:37.5%;left:62.5%}.square-wrapper:nth-child(31){top:37.5%;left:75%}.square-wrapper:nth-child(32){top:37.5%;left:87.5%}.square-wrapper:nth-child(33){top:50%;left:0%}.square-wrapper:nth-child(34){top:50%;left:12.5%}.square-wrapper:nth-child(35){top:50%;left:25%}.square-wrapper:nth-child(36){top:50%;left:37.5%}.square-wrapper:nth-child(37){top:50%;left:50%}.square-wrapper:nth-child(38){top:50%;left:62.5%}.square-wrapper:nth-child(39){top:50%;left:75%}.square-wrapper:nth-child(40){top:50%;left:87.5%}.square-wrapper:nth-child(41){top:62.5%;left:0%}.square-wrapper:nth-child(42){top:62.5%;left:12.5%}.square-wrapper:nth-child(43){top:62.5%;left:25%}.square-wrapper:nth-child(44){top:62.5%;left:37.5%}.square-wrapper:nth-child(45){top:62.5%;left:50%}.square-wrapper:nth-child(46){top:62.5%;left:62.5%}.square-wrapper:nth-child(47){top:62.5%;left:75%}.square-wrapper:nth-child(48){top:62.5%;left:87.5%}.square-wrapper:nth-child(49){top:75%;left:0%}.square-wrapper:nth-child(50){top:75%;left:12.5%}.square-wrapper:nth-child(51){top:75%;left:25%}.square-wrapper:nth-child(52){top:75%;left:37.5%}.square-wrapper:nth-child(53){top:75%;left:50%}.square-wrapper:nth-child(54){top:75%;left:62.5%}.square-wrapper:nth-child(55){top:75%;left:75%}.square-wrapper:nth-child(56){top:75%;left:87.5%}.square-wrapper:nth-child(57){top:87.5%;left:0%}.square-wrapper:nth-child(58){top:87.5%;left:12.5%}.square-wrapper:nth-child(59){top:87.5%;left:25%}.square-wrapper:nth-child(60){top:87.5%;left:37.5%}.square-wrapper:nth-child(61){top:87.5%;left:50%}.square-wrapper:nth-child(62){top:87.5%;left:62.5%}.square-wrapper:nth-child(63){top:87.5%;left:75%}.square-wrapper:nth-child(64){top:87.5%;left:87.5%}.square{display:flex;justify-content:center;align-items:center;width:100%;height:100%;position:relative}.square .cell-svg-container{position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%}.square .cell-svg-container .piece-svg{height:calc(min(100vw,100vh - 100px)/11);width:calc(min(100vw,100vh - 100px)/11);transition:transform .75s ease-in-out}.square .cell-svg-container .piece-svg.upside-down{transform:rotate(-180deg)}.white{background-color:#f0d9b5}.black{background-color:#b58863}.selected{background:radial-gradient(circle, rgb(251, 154, 63) 43%, rgba(0, 0, 0, 0) 100%)}.highlighted{background:radial-gradient(circle, rgb(251, 154, 63) 43%, rgba(0, 0, 0, 0) 100%)}",""]);const s=i},2902:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".board{display:grid;grid-template-columns:repeat(8, 1fr);grid-gap:0;width:100%;padding-bottom:100%;position:relative;transition:transform .75s ease-in-out;user-select:none;-webkit-user-select:none}.board.upside-down{transform:rotate(180deg)}.board-container{display:block;width:calc(100vw - 0px);height:calc(100vh - 0px);max-width:calc(min(100vw, 100vh - 50px) - 0px);max-height:calc(min(100vw, 100vh - 50px) - 0px);position:relative;overflow:hidden}",""]);const s=i},231:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".square-wrapper{position:absolute;width:12.5%;height:12.5%}.square-wrapper:nth-child(1){top:0%;left:0%}.square-wrapper:nth-child(2){top:0%;left:12.5%}.square-wrapper:nth-child(3){top:0%;left:25%}.square-wrapper:nth-child(4){top:0%;left:37.5%}.square-wrapper:nth-child(5){top:0%;left:50%}.square-wrapper:nth-child(6){top:0%;left:62.5%}.square-wrapper:nth-child(7){top:0%;left:75%}.square-wrapper:nth-child(8){top:0%;left:87.5%}.square-wrapper:nth-child(9){top:12.5%;left:0%}.square-wrapper:nth-child(10){top:12.5%;left:12.5%}.square-wrapper:nth-child(11){top:12.5%;left:25%}.square-wrapper:nth-child(12){top:12.5%;left:37.5%}.square-wrapper:nth-child(13){top:12.5%;left:50%}.square-wrapper:nth-child(14){top:12.5%;left:62.5%}.square-wrapper:nth-child(15){top:12.5%;left:75%}.square-wrapper:nth-child(16){top:12.5%;left:87.5%}.square-wrapper:nth-child(17){top:25%;left:0%}.square-wrapper:nth-child(18){top:25%;left:12.5%}.square-wrapper:nth-child(19){top:25%;left:25%}.square-wrapper:nth-child(20){top:25%;left:37.5%}.square-wrapper:nth-child(21){top:25%;left:50%}.square-wrapper:nth-child(22){top:25%;left:62.5%}.square-wrapper:nth-child(23){top:25%;left:75%}.square-wrapper:nth-child(24){top:25%;left:87.5%}.square-wrapper:nth-child(25){top:37.5%;left:0%}.square-wrapper:nth-child(26){top:37.5%;left:12.5%}.square-wrapper:nth-child(27){top:37.5%;left:25%}.square-wrapper:nth-child(28){top:37.5%;left:37.5%}.square-wrapper:nth-child(29){top:37.5%;left:50%}.square-wrapper:nth-child(30){top:37.5%;left:62.5%}.square-wrapper:nth-child(31){top:37.5%;left:75%}.square-wrapper:nth-child(32){top:37.5%;left:87.5%}.square-wrapper:nth-child(33){top:50%;left:0%}.square-wrapper:nth-child(34){top:50%;left:12.5%}.square-wrapper:nth-child(35){top:50%;left:25%}.square-wrapper:nth-child(36){top:50%;left:37.5%}.square-wrapper:nth-child(37){top:50%;left:50%}.square-wrapper:nth-child(38){top:50%;left:62.5%}.square-wrapper:nth-child(39){top:50%;left:75%}.square-wrapper:nth-child(40){top:50%;left:87.5%}.square-wrapper:nth-child(41){top:62.5%;left:0%}.square-wrapper:nth-child(42){top:62.5%;left:12.5%}.square-wrapper:nth-child(43){top:62.5%;left:25%}.square-wrapper:nth-child(44){top:62.5%;left:37.5%}.square-wrapper:nth-child(45){top:62.5%;left:50%}.square-wrapper:nth-child(46){top:62.5%;left:62.5%}.square-wrapper:nth-child(47){top:62.5%;left:75%}.square-wrapper:nth-child(48){top:62.5%;left:87.5%}.square-wrapper:nth-child(49){top:75%;left:0%}.square-wrapper:nth-child(50){top:75%;left:12.5%}.square-wrapper:nth-child(51){top:75%;left:25%}.square-wrapper:nth-child(52){top:75%;left:37.5%}.square-wrapper:nth-child(53){top:75%;left:50%}.square-wrapper:nth-child(54){top:75%;left:62.5%}.square-wrapper:nth-child(55){top:75%;left:75%}.square-wrapper:nth-child(56){top:75%;left:87.5%}.square-wrapper:nth-child(57){top:87.5%;left:0%}.square-wrapper:nth-child(58){top:87.5%;left:12.5%}.square-wrapper:nth-child(59){top:87.5%;left:25%}.square-wrapper:nth-child(60){top:87.5%;left:37.5%}.square-wrapper:nth-child(61){top:87.5%;left:50%}.square-wrapper:nth-child(62){top:87.5%;left:62.5%}.square-wrapper:nth-child(63){top:87.5%;left:75%}.square-wrapper:nth-child(64){top:87.5%;left:87.5%}.square{display:flex;justify-content:center;align-items:center;width:100%;height:100%;position:relative}.square .cell-svg-container{position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%}.square .cell-svg-container .piece-svg{height:calc(min(100vw,100vh - 100px)/11);width:calc(min(100vw,100vh - 100px)/11);transition:transform .75s ease-in-out}.square .cell-svg-container .piece-svg.upside-down{transform:rotate(-180deg)}.white{background-color:#f0d9b5}.black{background-color:#b58863}.selected{background:radial-gradient(circle, rgb(251, 154, 63) 43%, rgba(0, 0, 0, 0) 100%)}.highlighted{background:radial-gradient(circle, rgb(251, 154, 63) 43%, rgba(0, 0, 0, 0) 100%)}",""]);const s=i},5269:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".form-group{position:relative;margin-top:.8rem;margin-bottom:.3rem}.form-group label{position:absolute;top:-0.5rem;left:.5rem;font-size:.8rem;background-color:#fff;padding:0 .3rem}.form-group select{display:block;width:100%;height:2.5rem;font-size:1rem;padding:.5rem;border:1px solid #ccc;background-color:#fff;color:#000;border-radius:.3rem}.form-group select ::placeholder{font-size:.9rem;color:#aaa}.form-group.inverted label{background-color:#42403d}.form-group.inverted select{background-color:#42403d;color:#fff}",""]);const s=i},225:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".error-message{color:red;width:100%;text-align:left;font-size:.8rem;padding-top:3px}",""]);const s=i},6415:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".game-wrapper{display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto 1fr;height:100%}.chessboard-wrapper{grid-column:1/1;grid-row:1/2}.right-panel{grid-column:1/1;grid-row:2/2;background-color:#42403d;color:#fff;overflow:auto}.right-panel-button-container{padding:5px 5px 10px 5px}@media(min-width: 1040px){.chessboard-wrapper{grid-column:1/2;grid-row:1/1}.right-panel{grid-column:2/2;grid-row:1/1}}@media(min-width: 1040px){.chessboard-wrapper{padding:0 1rem 0 0}}",""]);const s=i},7752:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".header{grid-area:header;background-color:#42403d;color:#fff;display:flex;justify-content:space-between;align-items:center;position:relative;z-index:2;justify-content:flex-start}.header-nav{padding:1rem;height:3rem}.header-nav a{color:#fff}.hamburger{display:block;margin-right:auto;padding:.5rem 1rem 0 1rem;line-height:2rem}.hamburger-svg{cursor:pointer;height:1.5rem;width:1.5rem}@media(min-width: 1200px){.hamburger{visibility:hidden}}",""]);const s=i},7132:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".form-group{position:relative;margin-top:.5rem}.form-group label{position:absolute;top:-0.5rem;left:.5rem;font-size:.8rem;background-color:inherit;color:#000;padding:0 .3rem;border-radius:.3rem}.form-group input[type=text]{display:block;width:100%;height:2.5rem;font-size:1rem;padding:.5rem;border:1px solid #ccc;background-color:#fff;color:#000;border-radius:.3rem}.form-group input[type=text] ::placeholder{font-size:.9rem;color:#aaa}.form-group.inverted label{background-color:#42403d;color:#fff}.form-group.inverted input{background-color:#42403d;color:#fff}",""]);const s=i},2588:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".left-bar{grid-area:left;background-color:#f5f5f5;padding:1rem;overflow-y:auto;display:block;position:fixed;top:48px;left:0;bottom:0;z-index:1;-webkit-transform:translateX(-100%);transform:translateX(-100%);transition:transform .3s ease-in-out;width:200px;opacity:.92}.left-bar.open{z-index:10;display:block;-webkit-transform:translateX(0);transform:translateX(0);transition:transform .3s ease-in-out}@media(min-width: 1200px){.left-bar{display:block;position:fixed;bottom:0;transform:translateX(0);transition:transform .3s ease-in-out}}",""]);const s=i},509:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".modal-container{display:block;position:fixed;z-index:100;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.4);transform:scale(0);transition:transform .3s ease-in-out}.modal-container.open{transform:scale(1)}.modal-container.open .modal-content{transform:scale(1);transition:transform .3s ease-in-out}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;border-radius:4px;width:fit-content;min-width:30%;text-align:center;transform:scale(0);transition:transform .3s ease-in-out;z-index:101}.modal-content.allow-close{padding-top:35px}.close{color:#aaa;float:right;font-size:23px;font-weight:bold;position:absolute;top:4px;right:7px}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer}.modal-cta{padding-top:20px}",""]);const s=i},2591:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".form-errors{padding:10px 0 0 0}.field-with-error{border-color:red !important}",""]);const s=i},4513:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),a=n(3645),i=n.n(a)()(o());i.push([e.id,".status-messages-container{position:absolute;bottom:0;right:0;z-index:10;border-top:1px solid silver;border-left:1px solid silver;border-top-left-radius:5px}.status-message{max-height:0;transition:max-height .3s ease-out;overflow:hidden;color:#fff;background-color:#42403d;padding:2px;border-top-left-radius:5px}.status-message.show{max-height:20px}.status-message-error{background-color:red}",""]);const s=i},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},8081:e=>{e.exports=function(e){return e[1]}},9321:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(542),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},5268:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(3049),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},7252:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(5855),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},996:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(8312),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},4679:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(6673),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},2460:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(1795),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},6657:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(4214),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},4647:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(2902),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},6759:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(231),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},1429:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(5269),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},8290:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(225),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},1345:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(6415),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},850:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(7752),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},7799:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(7132),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},318:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(2588),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},5075:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(509),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},5026:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(2591),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},207:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),o=n.n(r),a=n(7795),i=n.n(a),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),f=n(4589),h=n.n(f),v=n(4513),m={};m.styleTagTransform=h(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),o()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},3379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],d=a[c]||0,u="".concat(c," ").concat(d);a[c]=d+1;var p=n(u),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:h,references:1})}i.push(u)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var l=r(e,o),c=0;c<a.length;c++){var d=n(a[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=l}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},5283:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomId=void 0,t.getRandomId=function(){return Math.random().toString()}},7040:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={urls:{lambdaAi:"https://efl6xov7ogqwrca5ae5wyrrk6a0kiujw.lambda-url.eu-west-1.on.aws/"}},Object.assign(self,{CHSS_config:t.config})},9677:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.component=void 0;var o=n(2656),a=n(7983);t.component=function(e,t){return function(n){void 0===n&&(n={});var i=n.id||(0,a.getComponentIdFromStack)(),s=r(r({},n),{id:i});return(0,o.renderComponent)(i,e,s,t)}}},9815:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Router=t.Link=t.navigate=void 0;var o,a=n(7437),i=(0,a.createState)({currentRoute:"/"});t.navigate=function(e){history.pushState(null,"",e),i.currentRoute=e},t.Link=(0,a.component)((function(e){var n=e.to,i=e.children;return(0,a.html)(o||(o=r(['\n    <a\n      href="','"\n      onclick="','"\n    >\n      ',"\n    </a>\n  "],['\n    <a\n      href="','"\n      onclick="','"\n    >\n      ',"\n    </a>\n  "])),n,(0,a.handler)((function(e){e.preventDefault(),(0,t.navigate)(n)})),i)})),t.Router=(0,a.component)((function(e){var t=e.routes,n=void 0===t?{}:t;return(n[i.currentRoute]||n["*"])(i.currentRoute.replace(/\//g,"."))})),window.addEventListener("popstate",(function(){i.currentRoute=window.location.pathname}))},3129:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(9815),t)},7983:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentIdFromStack=void 0;var n={},r=0;t.getComponentIdFromStack=function(){var e=(new Error).stack,t=[2,3].map((function(t){var n;return null===(n=null==e?void 0:e.split("\n")[t].split(" ").pop())||void 0===n?void 0:n.replace(window.location.href,"")})).join("");return t?(n[t]||(n[t]="lsC".concat(r),r+=1),n[t]):(console.warn("Counld not generate component id"),Math.random().toString().replace("0.","lsCrnd"))}},8866:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LITSTATE=void 0,t.LITSTATE={handlersPerComponent:{},components:{},componentsCurrentProps:{},elementsWithIds:{},listenerBeingExecuted:null,componentBeingRendered:null},Object.assign(window,{LITSTATE:t.LITSTATE})},2837:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handler=void 0;var r=n(8866);t.handler=function(e){var t=r.LITSTATE.componentBeingRendered||"global",n=Math.random().toString().replace("0.","lsHandler");return r.LITSTATE.handlersPerComponent[t]||(r.LITSTATE.handlersPerComponent[t]={}),r.LITSTATE.handlersPerComponent[t][n]=function(t,n){return e(t,n)},"window.LITSTATE.handlersPerComponent['".concat(t,"']['").concat(n,"'](event, this)")}},1046:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.html=void 0,t.html=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r="",o=0;o<e.length;o++)r+=e[o],o<t.length&&(r+=t[o]);return r}},7437:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(248),t),o(n(9677),t),o(n(2837),t),o(n(1046),t),o(n(4021),t)},4021:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mount=void 0;var r=n(1740);t.mount=function(e,t){(0,r.updateComponentInDom)(t,e)}},7702:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.recursivelyUpdateComponentInDom=t.tempId=void 0;var n=function(e,t){if(!e.isEqualNode(t)&&(function(e,t){if(e.nodeType===Node.ELEMENT_NODE&&t.nodeType===Node.ELEMENT_NODE){for(var n=e,r=t,o=0,a=n.getAttributeNames();o<a.length;o++){var i=a[o];n.getAttribute(i)!==r.getAttribute(i)&&r.setAttribute(i,n.getAttribute(i))}for(var s=0,l=r.getAttributeNames();s<l.length;s++)i=l[s],n.hasAttribute(i)||r.removeAttribute(i)}}(e,t),!e.isEqualNode(t))){var r=e.hasChildNodes(),o=t.hasChildNodes();if(r&&o){var a=Array.from(e.childNodes),i=Array.from(t.childNodes);for(a.forEach((function(e,r){if(e){var o=i[r];o?n(e,o):t.appendChild(e.cloneNode(!0))}}));i.length>a.length;){var s=i.findIndex((function(e){return!a.includes(e)}));if(s<0)throw new Error("couldnt find childnode to remove");try{t.removeChild(i[s])}catch(e){}i.splice(s,1)}if(e.isEqualNode(t))return;if(!e.hasChildNodes())throw new Error("ran out of child nodes")}t.replaceWith(e.cloneNode(!0))}};t.tempId="__LITSTATE__TEMP__ID__",t.recursivelyUpdateComponentInDom=function(e,t){if(t){var r=document.getElementById(e);if(r){var o=(new DOMParser).parseFromString("<body>".concat(t,"</body>"),"text/html").body.firstElementChild;if(!o)return console.warn("empty element rendered"),void(r.innerHTML="");n(o,r)}}}},2656:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderComponent=void 0;var r=n(8866),o=n(248),a=n(7702),i=r.LITSTATE.componentsCurrentProps;t.renderComponent=function(e,t,n,s){var l="".concat(r.LITSTATE.componentBeingRendered||"","/").concat(e),c=s?"object"==typeof s?s:s(n):{};return(0,o.addListener)((function(){var e=r.LITSTATE.componentBeingRendered;r.LITSTATE.componentBeingRendered=l;var o='<span id="'.concat(l,'" ').concat(Object.keys(c).map((function(e){return"".concat(e,'="').concat(c[e],'"')})).join(" "),">").concat(t(n||i[l]),"</span>");return r.LITSTATE.componentsCurrentProps[l]=n,(0,a.recursivelyUpdateComponentInDom)(l.toString(),o),r.LITSTATE.componentBeingRendered=e,o}),"renderListener-".concat(l))}},248:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createState=t.batchUpdate=t.addListener=void 0;var o=n(8866),a={},i={},s=null,l=null;t.addListener=function(e,t){var n=s;s=t,i[t]=e;var r=e();return s=n,r},t.batchUpdate=function(e){l={},e(),Object.values(l).forEach((function(e){return e()})),l=null},t.createState=function(e){return o.LITSTATE.componentBeingRendered?(a[o.LITSTATE.componentBeingRendered]||(a[o.LITSTATE.componentBeingRendered]=c(e)),a[o.LITSTATE.componentBeingRendered]):c(e)};var c=function(e){if(null===e)return null;var n;Array.isArray(e)?n=e.map((function(e){return"object"==typeof e?(0,t.createState)(e):e})):(n=r({},e),Object.keys(n).forEach((function(e){"object"==typeof n[e]&&(n[e]=(0,t.createState)(n[e]))})));var o={};return new Proxy(n,{get:function(e,t){var n=t.toString();return s&&"constructor"!==n&&((o[n]||[]).includes(s)||(o[n]||(o[n]=[]),o[n].push(s))),e[n]},set:function(e,n,a){var s=n.toString();return e[s]===a||(e[s]="object"==typeof a&&null!==a?(0,t.createState)(Array.isArray(a)?a.slice():r({},a)):a,function(e){(o[e]||[]).forEach((function(e){l?l[e]=i[e]:i[e]()}))}(s)),!0}})}},1740:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateComponentInDom=void 0;var r=n(8866),o=function(e){var t={};return function e(n){n.id&&!n.id.startsWith("lsComponent")&&(t[n.id]=n);for(var r=0,o=Array.from(n.children);r<o.length;r++)e(o[r])}(e),t};t.updateComponentInDom=function(e,t){var n=(new DOMParser).parseFromString("<body>".concat(t,"</body>"),"text/html").body.firstElementChild;if(n){var a=o(n);if(a){if(Object.keys(a).reduce((function(e,t){return!r.LITSTATE.elementsWithIds[t]||(function(e,t){for(var n=0,r=Array.from(e.attributes);n<r.length;n++){var o=r[n],a=o.name,i=o.value;t.getAttribute(a)!==i&&t.setAttribute(a,i)}}(a[t],r.LITSTATE.elementsWithIds[t]),e)}),!1)){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n);var i=o(e);Object.assign(r.LITSTATE.elementsWithIds,i)}else if(!n.isEqualNode(e.firstElementChild)){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n);var s=o(e);Object.assign(r.LITSTATE.elementsWithIds,s)}}else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n)}}else e.innerHTML=""}},2852:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.GameEndedModal=void 0,n(9321);var o,a,i,s,l=n(7437),c=n(5282);t.GameEndedModal=(0,l.component)((function(e){var t=e.resolve,n=e.result;return(0,l.html)(s||(s=r(["\n    <div>\n      ",'\n      <div class="modal-cta">\n        ',"\n        ","\n        ","\n      </div>\n    </div>\n  "],["\n    <div>\n      ",'\n      <div class="modal-cta">\n        ',"\n        ","\n        ","\n      </div>\n    </div>\n  "])),function(e){return 1===e?(0,l.html)(o||(o=r(['<h2 class="result-numbers">1 - 0</h2>\n        <div class="winner-text">Light won</div>'],['<h2 class="result-numbers">1 - 0</h2>\n        <div class="winner-text">Light won</div>']))):e?(0,l.html)(a||(a=r(['<h2 class="result-numbers">0 - 1</h2>\n        <div class="winner-text">Dark won</div>'],['<h2 class="result-numbers">0 - 1</h2>\n        <div class="winner-text">Dark won</div>']))):(0,l.html)(i||(i=r(['<h2 class="result-numbers">0 - 0</h2>\n        <div class="winner-text">Draw</div>'],['<h2 class="result-numbers">0 - 0</h2>\n        <div class="winner-text">Draw</div>'])))}(n),(0,c.Button)({children:"Rematch",buttonProps:{onclick:(0,l.handler)((function(){return t({action:"rematch"})}))}}),(0,c.Button)({children:"New game",buttonProps:{onclick:(0,l.handler)((function(){return t({action:"newGame"})}))}}),(0,c.Button)({children:"Close",buttonProps:{onclick:(0,l.handler)((function(){return t(null)}))}}))}))},6890:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Accordion=void 0,n(5268);var o,a,i=n(7437);t.Accordion=(0,i.component)((function(e){var t=e.items,n=void 0===t?[]:t,s=e.id,l=(0,i.createState)({openedItems:{}});return setTimeout((function(){n.forEach((function(e,t){if(l.openedItems[t]){var n=document.getElementById("accordion-".concat(s,"-content-").concat(t));n&&n.style.maxHeight!==n.scrollHeight.toString()&&(n.style.maxHeight=n.scrollHeight+"px")}}))}),0),(0,i.html)(a||(a=r(['\n    <div class="accordion">\n      ',"\n    </div>\n  "],['\n    <div class="accordion">\n      ',"\n    </div>\n  "])),n.map((function(e,t){return(0,i.html)(o||(o=r(['\n            <div class="accordion-item">\n              <button\n                class="accordion-header','"\n                onclick="','"\n              >\n                ','\n                <span\n                  class="chevron','"\n                ></span>\n              </button>\n              <div\n                id="accordion-',"-content-",'"\n                class="accordion-content','"\n              >\n                ',"\n              </div>\n            </div>\n          "],['\n            <div class="accordion-item">\n              <button\n                class="accordion-header','"\n                onclick="','"\n              >\n                ','\n                <span\n                  class="chevron','"\n                ></span>\n              </button>\n              <div\n                id="accordion-',"-content-",'"\n                class="accordion-content','"\n              >\n                ',"\n              </div>\n            </div>\n          "])),l.openedItems[t]?" active":"",(0,i.handler)((function(){return function(e){l.openedItems[e]=!l.openedItems[e];var t=document.getElementById("accordion-".concat(s,"-content-").concat(e));t&&(t.style.maxHeight=l.openedItems[e]?t.scrollHeight+"px":"0")}(t)})),e.header,l.openedItems[t]?" rotated":"",s,t,l.openedItems[t]?" active":"",e.content)})).join(""))}))},9265:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var o,a=n(7437),i=n(3129),s=n(2538),l=n(7733),c=n(3860),d=n(9070),u=n(9362);n(7252),t.App=(0,a.component)((function(){return(0,a.html)(o||(o=r(['\n    <div class="wrapper">\n      '," "," "," ",'\n      <div class="main">',"</div>\n    </div>\n  "],['\n    <div class="wrapper">\n      '," "," "," ",'\n      <div class="main">',"</div>\n    </div>\n  "])),(0,d.Modal)(),(0,l.HeaderNav)(),(0,c.LeftBar)(),(0,u.StatusMessages)(),(0,i.Router)({routes:s.routes}))}))},3327:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.BoardArrows=void 0;var o,a=n(7437);n(996),t.BoardArrows=(0,a.component)((function(e){var t=e.id,n=e.moves,i=void 0===n?[]:n,s=e.getCell,l=function(e,n,r,o,a,i,s){var l=document.getElementById("chessboard-canvas-".concat(t));if(l){var c=l.getContext("2d");if(c){var d=20*i;c.strokeStyle=a,c.fillStyle=a,c.lineWidth=d,c.globalAlpha=i;var u=Math.atan2(o-n,r-e),p=r-2*d*Math.cos(u),f=o-2*d*Math.sin(u);c.beginPath(),c.moveTo(e,n),c.lineTo(p,f),c.stroke(),c.save(),c.translate(r,o),c.rotate(u),c.beginPath(),c.moveTo(0,0),c.lineTo(2*-d,2*-d),c.lineTo(2*-d,2*d),c.closePath(),c.fill(),c.restore();var h=(e+p)/2,v=(n+f)/2;c.fillStyle="white",c.strokeStyle="black",c.lineWidth=2,c.save(),c.translate(h,v),c.rotate(u),c.font="".concat(d,"px Arial"),c.textAlign="center",c.textBaseline="middle",c.fillText(s.toFixed(4),0,0),c.strokeText(s.toFixed(4),0,0),c.restore()}}},c=i.reduce((function(e,t){return e+t.score}),0);return setTimeout((function(){var e;!function(){var e=document.getElementById("chessboard-canvas-".concat(t));if(e){var n=e.getContext("2d");n&&n.clearRect(0,0,e.width,e.height)}}();var n=document.getElementById("chessboard-canvas-".concat(t));if(n){var r=null===(e=n.parentElement)||void 0===e?void 0:e.parentElement;if(r){n.width=r.clientWidth,n.height=r.clientHeight;for(var o=0,a=i;o<a.length;o++){var d=a[o],u=s(d.move>>>10),p=s(63&d.move),f=d.score/c,h="#00".concat(Math.floor(255*f).toString(16).padStart(2,"0"),"00"),v=u.offsetLeft+u.offsetWidth/2,m=u.offsetTop+u.offsetHeight/2,b=p.offsetLeft+p.offsetWidth/2,g=p.offsetTop+p.offsetHeight/2;l(v,m,b,g,h,f,d.score)}}}}),0),(0,a.html)(o||(o=r(['<canvas\n      id="chessboard-canvas-','"\n      class="chessboard-canvas"\n    ></canvas>'],['<canvas\n      id="chessboard-canvas-','"\n      class="chessboard-canvas"\n    ></canvas>'])),t)}))},5282:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0,n(4679);var o,a=n(7437);t.Button=(0,a.component)((function(e){var t=e.buttonProps,n=void 0===t?{}:t,i=e.children;return(0,a.html)(o||(o=r(['\n    <div class="button-container">\n      <button\n        ',"\n      >\n        ","\n      </button>\n    </div>\n  "],['\n    <div class="button-container">\n      <button\n        ',"\n      >\n        ","\n      </button>\n    </div>\n  "])),Object.keys(n).map((function(e){return n[e]?"".concat(e,'="').concat(n[e],'"'):""})).join(" "),i)}))},7990:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Chessboard=void 0,n(2460);var o,a=n(7437),i=n(6866),s=n(4078);t.Chessboard=(0,a.component)((function(){for(var e="",t=0,n=0,l=i.chessboardState.prevFen.split(" ")[0].split("/").join("");n<l.length;n++){var c=l[n];if(isNaN(parseInt(c)))e+=(0,s.BoardCell)({index:t,char:c,id:"main-board-cell-".concat(t)}),t+=1;else for(var d=0;d<parseInt(c);d++)e+=(0,s.BoardCell)({index:t,id:"main-board-cell-".concat(t)}),t+=1}return(0,a.html)(o||(o=r(['<div\n      class="main-board','"\n    >\n      ',"\n    </div>"],['<div\n      class="main-board','"\n    >\n      ',"\n    </div>"])),i.chessboardState.rotated?" upside-down":"",e)}),{class:"main-board-container"})},8221:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.animateBoardChanges=void 0;var a=n(8391),i=n(4078),s=n(6866),l=function(e){return{x:100*(e.charCodeAt(0)-97),y:100*(8-parseInt(e.charAt(1)))}},c=function(e,t){var n=l(e),r=l(t);return{x:r.x-n.x,y:r.y-n.y}};t.animateBoardChanges=function(e,t){return void 0===e&&(e=.5),void 0===t&&(t=null),r(void 0,void 0,void 0,(function(){var n,r,l,d,u,p,f,h,v,m,b,g,y,w;return o(this,(function(o){return(n=document.querySelector(".main-board"))?(r=(0,a.getFenDiff)(s.chessboardState.prevFen,s.chessboardState.fen),l=r.addedPieces,d=r.removedPieces,u=r.movedPieces,p=r.promotionMove,d.forEach((function(t){var r=t.square,o=n.querySelector('[data-main-board-square="'.concat(r,'"]'));o.style.transition="transform ".concat(e,"s ease-out"),o.style.transform="scale(0)",o.addEventListener("transitionend",(function(){}))})),u.forEach((function(r){r.piece;var o=r.from,a=r.to,i=n.querySelector('[data-main-board-square="'.concat(o,'"]')),s=c(o,a);t&&t.substring(0,2)===o&&t.substring(2,4)===a||(i.style.transition="transform ".concat(e,"s ease-out")),i.style.zIndex="1",i.style.transform="translate(".concat(s.x,"%, ").concat(s.y,"%)"),i.style.transformOrigin="0 0",i.addEventListener("transitionend",(function(){}))})),p&&(f=p.piece,h=p.from,v=p.to,m=n.querySelector('[data-main-board-square="'.concat(h,'"]')),b=c(h,v),m.style.zIndex="1",m.style.transition="all ".concat(e,"s ease-out"),m.style.transform="translate(".concat(b.x,"%, ").concat(b.y,"%)"),m.style.opacity="0",m.style.transformOrigin="0 0",m.addEventListener("transitionend",(function(){})),g=new DOMParser,y=g.parseFromString("<body>".concat((0,i.BoardCellContent)({char:f,cellStr:h,id:"board-cell-content-".concat(h,"-temp")}),"</body>"),"text/html"),(w=y.body.firstElementChild).style.opacity="0",w.style.zIndex="1",document.getElementById("main-board-square-".concat(h)).appendChild(w),w.style.transition="all ".concat(e,"s ease-out"),setTimeout((function(){w.style.opacity="1",w.style.transform="translate(".concat(b.x,"%, ").concat(b.y,"%)"),w.style.transformOrigin="0 0",w.addEventListener("transitionend",(function(){}))}),0)),l.forEach((function(t){var n=t.piece,r=t.square,o=document.createElement("div");o.innerHTML=(0,i.BoardCellContent)({char:n,cellStr:r,id:"board-cell-content-".concat(r,"-temp")}),o.style.transform="scale(0)",document.getElementById("main-board-square-".concat(r)).appendChild(o),setTimeout((function(){o.style.transition="transform ".concat(e,"s ease-out"),o.style.transform="scale(1)",o.addEventListener("transitionend",(function(){}))}),0)})),[2,new Promise((function(t){return setTimeout(t,1e3*e)}))]):[2]}))}))}},6866:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.chessboardState=void 0;var i=n(7994),s=n(7437),l=n(7117),c=n(92),d=n(1543),u=n(8221),p=n(3391),f=n(9770),h=localStorage.getItem("chessBoardState");h||setTimeout(d.newGame,0);var v=h?JSON.parse(h):l.defaultStartingState,m=function(e){return Object.keys(e.reduce((function(e,t){return e[t.substring(0,2)]=!0,e}),{}))},b=m(v.nextMoves);t.chessboardState=(0,s.createState)({gameId:v.gameId,moveIndex:v.moveIndex,fen:v.fen,prevFen:v.fen,nextMoves:v.nextMoves,movableCells:b,targetCells:{},chessBoardUpdating:!1,selectedCell:null,lmf:v.lmf,lmt:v.lmt,rotated:v.rotated,computerPlaysLight:v.computerPlaysLight,computerPlaysLightPrevVal:!1,computerPlaysDarkPrevVal:!1,computerPlaysDark:v.computerPlaysDark,gameEnded:v.gameEnded,skipMoveAnimation:null,makeMove:function(e,t){return o(void 0,void 0,void 0,(function(){return a(this,(function(e){return[2]}))}))},engineProfile:f.defaultEngineProfile,engineConfig:f.engineProfiles[f.defaultEngineProfile],apiResponse:null}),t.chessboardState.makeMove=function(e,n){var l=(void 0===n?{}:n).dontAnimateMove;return o(void 0,void 0,void 0,(function(){var n,o,d,u;return a(this,(function(a){switch(a.label){case 0:return[4,window.CHSS.mainWorker.do("getMovedFen",{moveString:e,fen:t.chessboardState.fen,lmf:Array.from(t.chessboardState.lmf),lmt:Array.from(t.chessboardState.lmt)})];case 1:return n=a.sent(),o=n.fen,d=n.lmf,u=n.lmt,(0,c.addMove)({gameId:t.chessboardState.gameId,moveIndex:t.chessboardState.moveIndex,fen:t.chessboardState.fen,move:(0,i.moveString2move)(e)}).then((function(){(0,s.batchUpdate)((function(){Object.assign(t.chessboardState,r({fen:o,lmf:d,lmt:u},l?{skipMoveAnimation:e}:{})),t.chessboardState.moveIndex+=1}))})).catch(console.error),[2]}}))}))};(0,s.addListener)((function(){t.chessboardState.prevFen===t.chessboardState.fen||t.chessboardState.chessBoardUpdating||((0,s.batchUpdate)((function(){return Object.assign(t.chessboardState,{chessBoardUpdating:!0,selectedCell:null,targetCells:[]})})),(0,u.animateBoardChanges)(.3,t.chessboardState.skipMoveAnimation).then((function(){var e;(0,s.batchUpdate)((function(){Object.assign(t.chessboardState,{prevFen:t.chessboardState.fen,chessBoardUpdating:!1,skipMoveAnimation:null})})),e=t.chessboardState.fen.split(" ")[1],!t.chessboardState.gameEnded&&("b"===e&&t.chessboardState.computerPlaysDark||"w"===e&&t.chessboardState.computerPlaysLight)&&window.CHSS.mainWorker.do("getAiMovedFen",{fen:t.chessboardState.fen,lmf:Array.from(t.chessboardState.lmf),lmt:Array.from(t.chessboardState.lmt),gameId:t.chessboardState.gameId,moveIndex:t.chessboardState.moveIndex,engineConfig:JSON.parse(JSON.stringify(t.chessboardState.engineConfig))}).then((function(e){return(0,c.addMove)({gameId:t.chessboardState.gameId,moveIndex:t.chessboardState.moveIndex,fen:t.chessboardState.fen,move:e.move,updateId:e.moveUpdateId}).then((function(){return e}))})).then((function(e){return(0,s.batchUpdate)((function(){Object.assign(t.chessboardState,e),t.chessboardState.moveIndex+=1}))}))})),window.CHSS.mainWorker.do("getNextMoves",{fen:t.chessboardState.fen}).then((function(e){var n=e.nextMoves,r=e.gameEnded,o=e.result;t.chessboardState.gameEnded=r;var a="w"===t.chessboardState.fen.split(" ")[1],i=a&&t.chessboardState.computerPlaysLight||!a&&t.chessboardState.computerPlaysDark?[]:m(n);(0,s.batchUpdate)((function(){return Object.assign(t.chessboardState,{nextMoves:n,movableCells:i})}));var l={fen:t.chessboardState.fen,gameId:t.chessboardState.gameId,moveIndex:t.chessboardState.moveIndex,nextMoves:t.chessboardState.nextMoves,lmf:t.chessboardState.lmf,lmt:t.chessboardState.lmt,rotated:t.chessboardState.rotated,computerPlaysLight:t.chessboardState.computerPlaysLight,computerPlaysDark:t.chessboardState.computerPlaysDark,gameEnded:t.chessboardState.gameEnded};localStorage.setItem("chessBoardState",JSON.stringify(l)),r&&(0,p.processCompletedGame)({result:o})})).catch(console.error))}),"fen-update-listener"),(0,s.addListener)((function(){t.chessboardState.selectedCell&&t.chessboardState.nextMoves&&0!==t.chessboardState.nextMoves.length?t.chessboardState.targetCells=t.chessboardState.nextMoves.reduce((function(e,n){return n.startsWith(t.chessboardState.selectedCell)&&(e[n.substring(2,4)]=!0),e}),{}):t.chessboardState.targetCells={}}),"selected-cell-listener")},4078:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BoardCell=t.BoardCellContent=void 0,n(6657);var i,s,l=n(7437),c=n(1651),d=n(2420),u=n(6866),p=n(5387),f=n(3484),h=n(9070),v=n(6947),m=!1,b=function(e,t){var n=(void 0===t?{}:t).dontAnimateMove,r=void 0!==n&&n;return o(void 0,void 0,void 0,(function(){var t,n,o;return a(this,(function(a){switch(a.label){case 0:return t=u.chessboardState.selectedCell+e,(0,f.isPromotionMove)(t,u.chessboardState.fen)?[4,(0,h.renderModal)((function(e){return(0,v.PromotionSelectorModal)({resolve:e,pieces:"w"===u.chessboardState.fen.split(" ")[1]?["Q","N","R","B"]:["q","n","r","b"]})}),{allowClose:!1})]:[3,2];case 1:return n=a.sent(),o=t+n.toLowerCase(),u.chessboardState.makeMove(o,{dontAnimateMove:r}),[2];case 2:return u.chessboardState.makeMove(t,{dontAnimateMove:r}),[2]}}))}))};p.CHSS.handlers.cellDragStartHandler=function(e,t){return o(void 0,void 0,void 0,(function(){return a(this,(function(t){return u.chessboardState.movableCells.includes(e)&&(u.chessboardState.selectedCell=e,m=!1),[2]}))}))},p.CHSS.handlers.cellDropHandler=function(e){return o(void 0,void 0,void 0,(function(){return a(this,(function(t){return u.chessboardState.targetCells[e]&&b(e,{dontAnimateMove:!0}),[2]}))}))},p.CHSS.handlers.cellClickHandler=function(e){return o(void 0,void 0,void 0,(function(){return a(this,(function(t){return m&&u.chessboardState.selectedCell===e&&(u.chessboardState.selectedCell=null,m=!1),[2]}))}))},p.CHSS.handlers.cellMouseDownHandler=function(e){return o(void 0,void 0,void 0,(function(){return a(this,(function(t){return u.chessboardState.movableCells.includes(e)?(u.chessboardState.selectedCell===e&&(m=!0),u.chessboardState.selectedCell=e,[2]):u.chessboardState.targetCells[e]?(b(e),[2]):u.chessboardState.selectedCell!==e?(u.chessboardState.selectedCell=null,[2]):[2]}))}))},t.BoardCellContent=(0,l.component)((function(e){var t=e.char,n=e.cellStr;return t?(0,l.html)(i||(i=r(['<img\n          id="piece-svg-',"-",'"\n          class="piece-svg','"\n          src="assets/svg/','"\n          alt="'," on ",'"\n        />'],['<img\n          id="piece-svg-',"-",'"\n          class="piece-svg','"\n          src="assets/svg/','"\n          alt="'," on ",'"\n        />'])),n,t,u.chessboardState.rotated?" upside-down":"",c.pieceFilenames[t],c.pieceNames[t],n):""}),(function(e){var t=e.cellStr;return{class:"cell-svg-container".concat(u.chessboardState.selectedCell===t?" selected":"").concat(u.chessboardState.targetCells[t]?" highlighted":""),"data-main-board-square":t}})),t.BoardCell=(0,l.component)((function(e){var n=e.index,o=e.char,a=(0,d.cellIndex2cellStr)(n);return(0,l.html)(s||(s=r(['<div\n      id="main-board-square-','"\n      onmousedown="CHSS.handlers.cellMouseDownHandler(\'',"')\"\n      onclick=\"CHSS.handlers.cellClickHandler('","')\"\n      ondragstart=\"CHSS.handlers.cellDragStartHandler('","', event)\"\n      ondrop=\"CHSS.handlers.cellDropHandler('",'\')"\n      ondragover="event.preventDefault()"\n      class="square ','"\n    >\n      ',"\n    </div> "],['<div\n      id="main-board-square-','"\n      onmousedown="CHSS.handlers.cellMouseDownHandler(\'',"')\"\n      onclick=\"CHSS.handlers.cellClickHandler('","')\"\n      ondragstart=\"CHSS.handlers.cellDragStartHandler('","', event)\"\n      ondrop=\"CHSS.handlers.cellDropHandler('",'\')"\n      ondragover="event.preventDefault()"\n      class="square ','"\n    >\n      ',"\n    </div> "])),a,a,a,a,a,(n+Math.floor(n/8))%2?"black":"white",(0,t.BoardCellContent)({cellStr:a,char:o}))}),{class:"square-wrapper"})},555:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentUser=void 0;var o,a=n(7437),i=n(4484);t.CurrentUser=(0,a.component)((function(){return(0,a.html)(o||(o=r([" <div>","</div> "],[" <div>","</div> "])),i.userState.name)}))},4484:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.userState=void 0;var a=n(7437),i=localStorage.getItem("activeUser");t.userState=(0,a.createState)(i?JSON.parse(i):{id:null,name:""}),(0,a.addListener)((function(){return r(void 0,void 0,void 0,(function(){return o(this,(function(e){return localStorage.setItem("activeUser",JSON.stringify(t.userState)),[2]}))}))}),"user-to-localstorage")},2785:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayBoard=void 0,n(4647);var o,a=n(7437),i=n(5939),s=n(3327),l=n(7994);t.DisplayBoard=(0,a.component)((function(e){for(var t=e.id,n=e.fen,c=e.rotated,d=e.moves,u="",p=0,f=0,h=n.split(" ")[0].split("/").join("");f<h.length;f++){var v=h[f];if(isNaN(parseInt(v)))u+=(0,i.DisplayBoardCell)({index:p,char:v,id:"displayBoard-".concat(t,"-cell-").concat(p)}),p+=1;else for(var m=0;m<parseInt(v);m++)u+=(0,i.DisplayBoardCell)({index:p,id:"displayBoard-".concat(t,"-cell-").concat(p)}),p+=1}return(0,a.html)(o||(o=r(["\n      ",'\n      <div class="board','">',"</div>\n    "],["\n      ",'\n      <div class="board','">',"</div>\n    "])),(0,s.BoardArrows)({moves:d,getCell:function(e){var n,r=(0,l.cellIndex2cellStr)(e);return null===(n=document.getElementById("displayboard-square-displayBoard-".concat(t,"-cell-").concat(e,"-").concat(r)))||void 0===n?void 0:n.parentElement}}),c?" upside-down":"",u)}),{class:"board-container"})},5939:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayBoardCell=t.BoardCellContent=void 0,n(6759);var o,a,i=n(7437),s=n(1651),l=n(2420);t.BoardCellContent=(0,i.component)((function(e){var t=e.id,n=e.char,a=e.cellStr;return n?(0,i.html)(o||(o=r(['<img\n          id="',"-piece-svg-","-",'"\n          class="piece-svg','"\n          src="assets/svg/','"\n          alt="'," on ",'"\n        />'],['<img\n          id="',"-piece-svg-","-",'"\n          class="piece-svg','"\n          src="assets/svg/','"\n          alt="'," on ",'"\n        />'])),t,a,n,"",s.pieceFilenames[n],s.pieceNames[n],a):""}),(function(){return{class:"cell-svg-container"}})),t.DisplayBoardCell=(0,i.component)((function(e){var n=e.id,o=e.index,s=e.char,c=(0,l.cellIndex2cellStr)(o);return(0,i.html)(a||(a=r(['<div\n      id="displayboard-square-',"-",'"\n      class="square ','"\n    >\n      ',"\n    </div> "],['<div\n      id="displayboard-square-',"-",'"\n      class="square ','"\n    >\n      ',"\n    </div> "])),n,c,(o+Math.floor(o/8))%2?"black":"white",(0,t.BoardCellContent)({cellStr:c,char:s}))}),{class:"square-wrapper"})},7089:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Dropdown=void 0,n(1429);var o,a,i=n(7437),s=n(4898);t.Dropdown=(0,i.component)((function(e){var t=e.dropdownId,n=void 0===t?Math.random().toString():t,l=e.name,c=e.label,d=e.placeholder,u=e.onchange,p=e.value,f=void 0===p?null:p,h=e.error,v=e.inverted,m=e.options,b=void 0===m?[]:m,g=(0,i.createState)({value:f}),y=(0,i.handler)((function(e){g.value=e.target.value,u(g.value)}));return(0,i.html)(a||(a=r(['\n      <div class="form-group','">\n        <label for="','">','</label>\n\n        <select\n          id="','"\n          name="','"\n          placeholder="','"\n          oninput="','"\n          class="','"\n          value="','"\n        >\n          ',"\n        </select>\n\n        ","\n      </div>\n    "],['\n      <div class="form-group','">\n        <label for="','">','</label>\n\n        <select\n          id="','"\n          name="','"\n          placeholder="','"\n          oninput="','"\n          class="','"\n          value="','"\n        >\n          ',"\n        </select>\n\n        ","\n      </div>\n    "])),v?" inverted":"",n,c,n,l||n,d,y,h?"field-with-error":"",g.value,b.map((function(e){var t="string"==typeof e?{label:e,value:e}:e,n=t.label,a=t.value;return(0,i.html)(o||(o=r(['<option value="','">',"</option>"],['<option value="','">',"</option>"])),a,n)})).join(""),(0,s.ErrorMessage)({error:h}))}))},4898:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorMessage=void 0,n(8290);var o,a=n(7437);t.ErrorMessage=(0,a.component)((function(e){var t,n=e.error;return(0,a.html)(o||(o=r(['<div class="error-message">',"</div>"],['<div class="error-message">',"</div>"])),null!==(t=null==n?void 0:n.message)&&void 0!==t?t:"")}))},8255:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var s=n(7437),l=n(9770),c=n(6890),d=n(5282),u=n(7990),p=n(6866),f=n(7089),h=n(5674),v=n(6785),m=n(9070);n(1345);var b,g,y,w=(0,s.handler)((function(){return p.chessboardState.rotated=!p.chessboardState.rotated})),S=(0,s.handler)((function(){return a(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,(0,m.renderModal)((function(e){return(0,h.GameStateModal)(o({resolve:e},p.chessboardState.apiResponse))}),{allowClose:!0})];case 1:return e.sent(),[2]}}))}))}));t.Game=(0,s.component)((function(){return(0,s.html)(y||(y=r(['\n    <div class="game-wrapper">\n      <div class="chessboard-wrapper">','</div>\n      <div class="right-panel">\n        <div class="right-panel-button-container">\n          ','\n        </div>\n\n        <div class="right-panel-input-container">\n          ',"\n        </div>\n      </div>\n    </div>\n  "],['\n    <div class="game-wrapper">\n      <div class="chessboard-wrapper">','</div>\n      <div class="right-panel">\n        <div class="right-panel-button-container">\n          ','\n        </div>\n\n        <div class="right-panel-input-container">\n          ',"\n        </div>\n      </div>\n    </div>\n  "])),(0,u.Chessboard)(),(0,d.Button)({buttonProps:{onclick:w},children:"rotate"}),(0,c.Accordion)({items:[{header:"ENGINE CONFIG",content:(0,s.html)(b||(b=r(["\n                  ","\n                  ","\n                "],["\n                  ","\n                  ","\n                "])),(0,f.Dropdown)({label:"Engine profile",onchange:function(e){(0,s.batchUpdate)((function(){p.chessboardState.engineProfile=e,p.chessboardState.engineConfig=l.engineProfiles[e]}))},options:l.engineProfileNames,value:p.chessboardState.engineProfile,inverted:!0}),(0,v.Input)({inputId:"right-panel-input",label:"Engine config",value:JSON.stringify(p.chessboardState.engineConfig),onchange:function(e){return p.chessboardState.engineConfig=JSON.parse(e)},inverted:!0}))},{header:"LAST MOVE API RESPONSE",content:(0,s.html)(g||(g=r(["\n                  <div>","</div>\n                  <pre>","</pre>"],["\n                  <div>","</div>\n                  <pre>","</pre>"])),(0,d.Button)({buttonProps:{onclick:S,disabled:!p.chessboardState.apiResponse},children:"Display"}),JSON.stringify(p.chessboardState.apiResponse,null,2))}]}))}))},5674:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.GameStateModal=void 0;var o,a,i=n(7437),s=n(2785);t.GameStateModal=(0,i.component)((function(e){e.resolve;var t=e.fen,n=e.sortedMoves;return(0,i.html)(a||(a=r(["\n    ","\n    ","\n  "],["\n    ","\n    ","\n  "])),(0,s.DisplayBoard)({fen:t,moves:n}),n.map((function(e){var t=e.moveString,n=e.score;return(0,i.html)(o||(o=r(["<div>"," ","</div>"],["<div>"," ","</div>"])),t,n)})))}))},7733:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderNav=void 0,n(850);var o,a=n(7437),i=n(3860),s=n(555),l=(0,a.handler)((function(){return(0,i.toggleLeftBar)()})).trim();t.HeaderNav=(0,a.component)((function(){return(0,a.html)(o||(o=r([' <div id="hamburger" class="hamburger">\n        <img\n          id="hamburger-button"\n          class="hamburger-svg"\n          src="assets/svg/Hamburger_icon.svg"\n          alt="Toggle left menu bar"\n          onclick="','"\n        />\n      </div>\n\n      <div class="header-nav">',"</div>"],[' <div id="hamburger" class="hamburger">\n        <img\n          id="hamburger-button"\n          class="hamburger-svg"\n          src="assets/svg/Hamburger_icon.svg"\n          alt="Toggle left menu bar"\n          onclick="','"\n        />\n      </div>\n\n      <div class="header-nav">',"</div>"])),l,(0,s.CurrentUser)())}),{class:"header"})},6785:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0,n(7799);var o,a=n(7437),i=n(4898);t.Input=(0,a.component)((function(e){var t=e.inputId,n=e.name,s=e.label,l=e.placeholder,c=e.onchange,d=e.value,u=void 0===d?"":d,p=e.error,f=e.inverted,h=(0,a.createState)({value:u,prevIncomingValue:u});u!==h.prevIncomingValue&&u!==h.value&&(0,a.batchUpdate)((function(){h.value=u,h.prevIncomingValue=u}));var v=(0,a.handler)((function(e){h.value=e.target.value,c(h.value)}));return(0,a.html)(o||(o=r(['\n      <div class="form-group','">\n        <label for="','">','</label>\n        <input\n          type="text"\n          id="','"\n          name="','"\n          placeholder="','"\n          oninput="','"\n          class="','"\n          value="','"\n        />\n\n        ',"\n      </div>\n    "],['\n      <div class="form-group','">\n        <label for="','">','</label>\n        <input\n          type="text"\n          id="','"\n          name="','"\n          placeholder="','"\n          oninput="','"\n          class="','"\n          value="','"\n        />\n\n        ',"\n      </div>\n    "])),f?" inverted":"",t,s,t,n||t,l,v,p?"field-with-error":"",h.value.replace(/"/g,"&quot;"),(0,i.ErrorMessage)({error:p}))}))},3860:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.LeftBar=t.toggleLeftBar=void 0,n(318);var o,a=n(7437),i=n(5282),s=n(1543),l=(0,a.createState)({leftBarClass:"closed"});document.addEventListener("click",(function(e){e.target&&"left-bar"!==e.target.id&&"hamburger-button"!==e.target.id&&(l.leftBarClass="closed")})),t.toggleLeftBar=function(){l.leftBarClass="open"===l.leftBarClass?"closed":"open"},t.LeftBar=(0,a.component)((function(){return(0,a.html)(o||(o=r(['\n    <div id="left-bar" class="left-bar ','">\n      ',"\n    </div>\n  "],['\n    <div id="left-bar" class="left-bar ','">\n      ',"\n    </div>\n  "])),l.leftBarClass,(0,i.Button)({buttonProps:{onclick:(0,a.handler)((function(){return(0,s.newGame)({allowClose:!0})}))},children:"New game"}))}))},9070:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=t.renderModal=void 0,n(5075);var o=n(7437),a=(0,o.createState)({open:!1,content:"",resolve:function(e){},allowClose:!0});t.renderModal=function(e,t){void 0===t&&(t={});var n=t.allowClose,r=void 0===n||n;return a.allowClose=r,new Promise((function(t){Object.assign(a,{content:e((function(e){a.open=!1,t(e)})),open:!0,resolve:t})}))};var i,s=(0,o.handler)((function(e,t){e.preventDefault(),"modal-container"!==t.id&&"modal-close-button"!==t.id||(a.open=!1,a.resolve(null))}));t.Modal=(0,o.component)((function(){return(0,o.html)(i||(i=r(['\n    <div\n      class="modal-container','"\n      onclick="','"\n      id="modal-container"\n    >\n      <div\n        class="','"\n        id="modal-content"\n        onclick="event.stopPropagation()"\n      >\n        ',"\n        ","\n      </div>\n    </div>\n  "],['\n    <div\n      class="modal-container','"\n      onclick="','"\n      id="modal-container"\n    >\n      <div\n        class="','"\n        id="modal-content"\n        onclick="event.stopPropagation()"\n      >\n        ',"\n        ","\n      </div>\n    </div>\n  "])),a.open?" open":"",a.allowClose?s:"","modal-content".concat(a.allowClose?" allow-close":""),a.allowClose?'<span class="close" onclick="'.concat(s,'" id="modal-close-button">\n              &times;\n            </span>'):"",a.content)}))},4428:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.NewGameModal=void 0,n(5026);var a,i=n(7437),s=n(1651),l=n(6785),c=n(4484),d=n(7117),u=(0,i.createState)({errors:{}}),p={resolver:function(e){}},f=(0,i.handler)((function(e,t){var n=document.getElementById("username-input-on-new-game-modal").value;n?("play-with-dark-button"===(null==t?void 0:t.id)&&p.resolver({gameStateUpdate:o(o({},d.defaultStartingState),{computerPlaysDark:!1,computerPlaysLight:!0,rotated:!0}),username:n}),"play-with-light-button"===(null==t?void 0:t.id)&&p.resolver({gameStateUpdate:o(o({},d.defaultStartingState),{computerPlaysDark:!0,computerPlaysLight:!1,rotated:!1}),username:n})):u.errors=o(o({},u.errors),{missingUserName:{message:"Please enter your name",elementsWithError:["username-input"]}})}));t.NewGameModal=(0,i.component)((function(e){var t=e.resolve;return p.resolver=t,(0,i.html)(a||(a=r(["\n    ",'\n\n    <div>\n      <button onclick="','" id="play-with-light-button">\n        Play with light\n        <br />\n        <img\n          class="piece-svg"\n          src="assets/svg/','"\n          alt="Play with light"\n        />\n      </button>\n\n      <button onclick="','" id="play-with-dark-button">\n        Play with dark\n        <br />\n        <img\n          class="piece-svg"\n          src="assets/svg/','"\n          alt="Play with dark"\n        />\n      </button>\n    </div>\n  '],["\n    ",'\n\n    <div>\n      <button onclick="','" id="play-with-light-button">\n        Play with light\n        <br />\n        <img\n          class="piece-svg"\n          src="assets/svg/','"\n          alt="Play with light"\n        />\n      </button>\n\n      <button onclick="','" id="play-with-dark-button">\n        Play with dark\n        <br />\n        <img\n          class="piece-svg"\n          src="assets/svg/','"\n          alt="Play with dark"\n        />\n      </button>\n    </div>\n  '])),(0,l.Input)({inputId:"username-input-on-new-game-modal",label:"Player name",placeholder:"Enter your name",name:"username",value:c.userState.name,error:Object.values(u.errors).find((function(e){return e.elementsWithError.find((function(e){return"username-input"===e}))})),onchange:function(e){e&&(u.errors={})}}),f,s.pieceFilenames.P,f,s.pieceFilenames.p)}))},6947:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.PromotionSelectorModal=void 0;var o,a,i=n(7437),s=n(1651),l={resolver:function(e){}},c=(0,i.handler)((function(e,t){var n,r;if(null===(n=null==t?void 0:t.id)||void 0===n?void 0:n.startsWith("promote-to-")){var o=null===(r=null==t?void 0:t.id)||void 0===r?void 0:r.replace("promote-to-","");l.resolver(o)}}));t.PromotionSelectorModal=(0,i.component)((function(e){var t=e.resolve,n=e.pieces;return l.resolver=t,(0,i.html)(a||(a=r(["\n    <div>\n      ","\n    </div>\n  "],["\n    <div>\n      ","\n    </div>\n  "])),n.map((function(e){return(0,i.html)(o||(o=r(['\n            <button onclick="','" id="promote-to-','">\n              <img\n                class="piece-svg"\n                src="assets/svg/','"\n                alt="Promote pawn to ','"\n              />\n            </button>\n          '],['\n            <button onclick="','" id="promote-to-','">\n              <img\n                class="piece-svg"\n                src="assets/svg/','"\n                alt="Promote pawn to ','"\n              />\n            </button>\n          '])),c,e,s.pieceFilenames[e],s.pieceNames[e])})).join(""))}))},9362:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.StatusMessages=void 0,n(207);var o,a,i=n(7437),s=n(8473),l=(0,i.component)((function(e){var t=e.message;return(0,i.html)(o||(o=r(['\n      <div class="status-message','">\n        ',"\n      </div>\n    "],['\n      <div class="status-message','">\n        ',"\n      </div>\n    "])),t.show?" show":"",t.children)}));t.StatusMessages=(0,i.component)((function(){return(0,i.html)(a||(a=r(["\n    <div>\n      ","\n    </div>\n  "],["\n    <div>\n      ","\n    </div>\n  "])),s.statusMessagesState.messages.map((function(e){return l({id:e.id,message:e})})).join(""))}),{class:"status-messages-container"})},8473:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.removeStatusMessage=t.addStatusMessage=t.statusMessagesState=void 0;var i=n(7437),s=n(5283);t.statusMessagesState=(0,i.createState)({messages:[]}),t.addStatusMessage=function(e){var n=e.children,r=e.ttl,o=(0,s.getRandomId)(),i={children:n,id:o};return t.statusMessagesState.messages=a(a([],t.statusMessagesState.messages,!0),[i],!1),setTimeout((function(){var e=t.statusMessagesState.messages.find((function(e){return e.id===o}));e&&(e.show=!0),r&&setTimeout((function(){var e=t.statusMessagesState.messages.find((function(e){return e.id===o}));e&&(e.show=!1),setTimeout((function(){t.statusMessagesState.messages=t.statusMessagesState.messages.filter((function(e){return e.id!==o}))}),150)}),r)}),1),o},t.removeStatusMessage=function(e){return r(void 0,void 0,void 0,(function(){var n;return o(this,(function(r){return(n=t.statusMessagesState.messages.find((function(t){return t.id===e})))&&(n.show=!1),setTimeout((function(){t.statusMessagesState.messages=t.statusMessagesState.messages.filter((function(e){return e!==n}))}),300),[2]}))}))}},3137:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.init=t.config=void 0;var r=n(7437),o=n(9265),a=n(3403);t.config={},t.init=function(e){var n=e.config;Object.assign(t.config,n);var i=document.getElementById("app-container");if(!i)throw new Error("App container not found.");(0,r.mount)((0,o.App)(),i),(0,a.initApp)()}},7117:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultStartingState=void 0;var r=n(7748);t.defaultStartingState={fen:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",nextMoves:["g1f3","g1h3","b1a3","b1c3","h2h3","h2h4","g2g3","g2g4","f2f3","f2f4","e2e3","e2e4","d2d3","d2d4","c2c3","c2c4","b2b3","b2b4","a2a3","a2a4"],lmf:new Array(64).fill(255),lmt:new Array(64).fill(255),rotated:!1,computerPlaysDark:!1,computerPlaysLight:!1,moveIndex:0,gameId:(0,r.getUUID)(),gameEnded:!1}},9770:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.engineProfileNames=t.defaultEngineProfile=t.engineProfiles=void 0,t.engineProfiles={"AI + minimax (3sec)":{timeout:3e3,moveSorters:[{cutoff:.01}],moveScoreRario:2},"AI only":{maxDepth:0}},t.defaultEngineProfile="AI + minimax (3sec)",t.engineProfileNames=Object.keys(t.engineProfiles)},92:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.addMove=void 0;var a=n(2662);t.addMove=function(e){var t=e.gameId,n=e.moveIndex,i=e.fen,s=e.move,l=void 0===s?null:s,c=e.updateId;return r(void 0,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,a.localDb.fens.insert({id:"".concat(t,"/").concat(n),game:t,index:n,fen:i,move:l,updateId:c})];case 1:return e.sent(),[2]}}))}))}},7628:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createGame=void 0;var i=n(2662),s=n(7748),l="engine1";t.createGame=function(e){var t=e.user.id,n=e.gameStateUpdate,c=n.computerPlaysDark,d=n.computerPlaysLight,u=n.fen;return o(void 0,void 0,void 0,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return e=r({id:(0,s.getUUID)(),createdAt:(new Date).toISOString(),computerPlaysDark:c,computerPlaysLight:d,startingFen:u},c?{wPlayer:t,bPlayer:l}:{wPlayer:l,bPlayer:t}),[4,i.localDb.games.insert(e)];case 1:return n.sent(),[2,e]}}))}))}},1543:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.newGame=void 0;var i=n(7437),s=n(7628),l=n(2167),c=n(6866),d=n(4484),u=n(9070),p=n(4428);t.newGame=function(e){var t=void 0===e?{}:e,n=t.allowClose,f=void 0!==n&&n,h=t.params;return o(void 0,void 0,void 0,(function(){var e,t,n,o,v,m;return a(this,(function(a){switch(a.label){case 0:return h?(t={gameStateUpdate:h,username:d.userState.name},[3,3]):[3,1];case 1:return[4,(0,u.renderModal)((function(e){return(0,p.NewGameModal)({resolve:e})}),{allowClose:f})];case 2:t=a.sent(),a.label=3;case 3:return e=t,f&&!e?[2]:(n=e.gameStateUpdate,o=e.username,[4,(0,l.findOrCreateUser)({name:o})]);case 4:return v=a.sent(),(0,i.batchUpdate)((function(){return Object.assign(d.userState,v)})),[4,(0,s.createGame)(r({user:v},e))];case 5:return m=a.sent(),(0,i.batchUpdate)((function(){Object.assign(c.chessboardState,n,{gameId:m.id,moveIndex:0})})),[2]}}))}))}},3391:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.processCompletedGame=void 0;var i=n(2852),s=n(1543),l=n(9070),c=n(7117),d=n(6866);t.processCompletedGame=function(e){var t=e.result;return o(void 0,void 0,void 0,(function(){var e,n,o,u;return a(this,(function(a){switch(a.label){case 0:return[4,(0,l.renderModal)((function(e){return(0,i.GameEndedModal)({resolve:e,result:t})}))];case 1:return(e=a.sent())?"newGame"===(n=e.action)?((0,s.newGame)({allowClose:!0}),[2]):("rematch"===n&&(o=d.chessboardState.computerPlaysDark,u=r(r({},c.defaultStartingState),{computerPlaysLight:o,computerPlaysDark:!o,rotated:o}),(0,s.newGame)({params:u})),[2]):[2]}}))}))}},5387:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CHSS=void 0;var r=n(6866);t.CHSS={handlers:{},setFen:function(e){return r.chessboardState.fen=e},mainWorkerAwaiters:[]},window.CHSS=Object.assign(window.CHSS||{},t.CHSS),window.CHSS.mainWorker||(window.CHSS.mainWorker={do:function(e,t){return new Promise((function(n,r){return window.CHSS.mainWorkerAwaiters.push((function(o){return o.do(e,t).then(n).catch(r)}))}))},on:function(e,t){return window.CHSS.mainWorkerAwaiters.push((function(n){return n.on(e,t)}))}})},3403:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.initApp=void 0;var o,a,i=n(7437),s=n(8473),l=n(4890),c=function(e){(0,s.addStatusMessage)({ttl:3e3,children:(0,i.html)(o||(o=r(['<div class="status-message-error">',"</div>"],['<div class="status-message-error">',"</div>"])),e.message)})},d=function(e){var t=e.level,n=e.args;(0,s.addStatusMessage)({ttl:3e3,children:(0,i.html)(a||(a=r(['<div class="status-message-','">\n      ',"\n    </div>"],['<div class="status-message-','">\n      ',"\n    </div>"])),t,JSON.stringify({args:n}))})};t.initApp=function(){(0,l.catchErrors)({logger:c}),window.CHSS.mainWorker.on("dealWithError",c),window.CHSS.mainWorker.on("log",d),window.CHSS.mainWorker.on("addStatusMessage",s.addStatusMessage),window.CHSS.mainWorker.on("removeStatusMessage",s.removeStatusMessage)}},2662:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.processDbUpdateResult=t.getDbUpdate=t.localDb=void 0;var a,i={users:{indexes:{name:{keyPath:"name",options:{unique:!0}}}},games:{indexes:{players:{keyPath:["wPlayer","bPlayer"],options:{unique:!1}}}},fens:{indexes:{gameAndIndex:{keyPath:["game","index"],options:{unique:!1}}}}},s={id:{keyPath:"id",options:{unique:!0}},updateId:{keyPath:"updateId",options:{unique:!1}}},l=Object.keys(i).reduce((function(e,t){return e[t]={indexes:n(n({},s),i[t].indexes)},e}),{}),c=[],d=function(){return new Promise((function(e){if(a)return e(a);c.push(e)}))},u=indexedDB.open("chss-db",10);u.onupgradeneeded=function(e){var t=e.target.result;Object.keys(l).forEach((function(e){t.objectStoreNames.contains(e)&&t.deleteObjectStore(e);var n=l[e],r=n.keyPath,o=void 0===r?"id":r,a=n.indexes,i=void 0===a?s:a,c=t.createObjectStore(e,{keyPath:o});Object.keys(i).forEach((function(e){c.createIndex(e,i[e].keyPath,i[e].options)}))}))},u.onsuccess=function(e){for(a=e.target.result;c.length;)c.pop()(a)},u.onerror=function(e){console.error("Error opening database",e.target.error)};var p=function(){function e(e){var t=e.storeName;this.storeName=t}return e.prototype.findAll=function(e){var t=this;return new Promise((function(n,a){return r(t,void 0,void 0,(function(){var t,r,i,c,u,p,f,h,v=this;return o(this,(function(o){switch(o.label){case 0:return[4,d()];case 1:if(t=o.sent().transaction([this.storeName],"readonly"),r=t.objectStore(this.storeName),!(i=Object.keys(l[this.storeName].indexes||s).find((function(t){return Object.keys(e).reduce((function(e,n){return e&&[].concat((l[v.storeName].indexes||s)[t].keyPath).includes(n)}),!0)}))))throw new Error("couldn't find suitable index in ".concat(this.storeName," for condition ").concat(JSON.stringify(e)));return c=r.index(i),u=[].concat((l[this.storeName].indexes||s)[i].keyPath).map((function(t){return e[t]||""})),p=IDBKeyRange.only(u.length>1?u:u[0]),f=c.openCursor(p),h=[],f.onsuccess=function(t){var r=t.target.result;if(r)h.push(r.value),r.continue();else{var o=h.filter((function(t){return Object.keys(e).reduce((function(n,r){return n&&e[r]===t[r]}),!0)}));n(o)}},f.onerror=function(e){return a(e)},[2]}}))}))}))},e.prototype.insert=function(e){var t=this;return new Promise((function(a,i){return r(t,void 0,void 0,(function(){var t,r,s,l=this;return o(this,(function(o){switch(o.label){case 0:return[4,d()];case 1:return t=o.sent().transaction([this.storeName],"readwrite"),r=t.objectStore(this.storeName),(s=r.add(n(n({},e),e.updateId?{}:{updateId:"pending"}))).onsuccess=function(e){a(e)},s.onerror=function(t){var n=t.target.error;console.error("Error writing to ".concat(l.storeName," indexedDB store."),n,{data:e}),i(n)},[2]}}))}))}))},e.prototype.update=function(e){var t=this;return new Promise((function(n,a){return r(t,void 0,void 0,(function(){var t,r,i,s=this;return o(this,(function(o){switch(o.label){case 0:return[4,d()];case 1:return t=o.sent().transaction([this.storeName],"readwrite"),r=t.objectStore(this.storeName),(i=r.put(e)).onsuccess=function(e){n(e)},i.onerror=function(t){var n=t.target.error;console.error("Error processing update in ".concat(s.storeName," indexedDB store."),n,{data:e}),a(n)},[2]}}))}))}))},e}();t.localDb=Object.keys(l).reduce((function(e,t){return e[t]=new p({storeName:t}),e}),{}),t.getDbUpdate=function(){return r(void 0,void 0,void 0,(function(){var e,n,r,a,i;return o(this,(function(o){switch(o.label){case 0:e={},n=0,r=Object.keys(t.localDb),o.label=1;case 1:return n<r.length?(a=r[n],[4,t.localDb[a].findAll({updateId:"pending"})]):[3,4];case 2:(i=o.sent())&&i.length&&(e[a]={add:i}),o.label=3;case 3:return n++,[3,1];case 4:return[2,e]}}))}))},t.processDbUpdateResult=function(e){var a=e.dbUpdate,i=e.updateResult;return r(void 0,void 0,void 0,(function(){var e,r,s,l,c,d,u;return o(this,(function(o){switch(o.label){case 0:if(!a||!i)return[2];e=i.updateIds,r=0,s=Object.keys(e),o.label=1;case 1:if(!(r<s.length))return[3,6];l=s[r],c=0,d=a[l].add,o.label=2;case 2:return c<d.length?(u=d[c],[4,t.localDb[l].update(n(n({},u),{updateId:e[l]}))]):[3,5];case 3:o.sent(),o.label=4;case 4:return c++,[3,2];case 5:return r++,[3,1];case 6:return[2]}}))}))}},1651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pieceNames=t.pieceFilenames=t.pieceChars=void 0,t.pieceChars={K:{char:"♔",class:"white-piece"},Q:{char:"♕",class:"white-piece"},R:{char:"♖",class:"white-piece"},B:{char:"♗",class:"white-piece"},N:{char:"♘",class:"white-piece"},P:{char:"♙",class:"white-piece"},k:{char:"♚",class:"black-piece"},q:{char:"♛",class:"black-piece"},r:{char:"♜",class:"black-piece"},b:{char:"♝",class:"black-piece"},n:{char:"♞",class:"black-piece"},p:{char:"♟︎",class:"black-piece"}},t.pieceFilenames={K:"Chess_klt45.svg",Q:"Chess_qlt45.svg",R:"Chess_rlt45.svg",B:"Chess_blt45.svg",P:"Chess_plt45.svg",N:"Chess_nlt45.svg",k:"Chess_kdt45.svg",q:"Chess_qdt45.svg",r:"Chess_rdt45.svg",b:"Chess_bdt45.svg",n:"Chess_ndt45.svg",p:"Chess_pdt45.svg"},t.pieceNames={K:"Light King",Q:"Light Queen",R:"Light Rook",B:"Light Bishop",P:"Light Pawn",N:"Light Knight",k:"Dark King",q:"Dark Queen",r:"Dark Rook",b:"Dark Bishop",n:"Dark Knight",p:"Dark Pawn"}},2538:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.routes=void 0;var o,a=n(7437),i=n(8255);t.routes={"/":i.Game,"/game":i.Game,"*":function(){return(0,a.html)(o||(o=r(["<h1>404 Not Found</h1>"],["<h1>404 Not Found</h1>"])))}}},2167:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.findOrCreateUser=void 0;var a=n(8944),i=n(4080);t.findOrCreateUser=function(e){var t=e.name,n=e.id;return r(void 0,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return[4,(0,a.findUser)({name:t,id:n})];case 1:if(e=r.sent())return[2,e];if(!t)throw new Error("Tried to create new user without name");return[4,(0,i.insertUser)({name:t,id:n})];case 2:return[2,r.sent()]}}))}))}},8944:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.findUser=void 0;var i=n(2662);t.findUser=function(e){var t=e.name,n=e.id;return o(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,i.localDb.users.findAll(r(r({},t?{name:t}:{}),n?{id:n}:{}))];case 1:return[2,e.sent()[0]||null]}}))}))}},4080:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.insertUser=void 0;var a=n(2662),i=n(7748);t.insertUser=function(e){var t=e.name,n=e.id;return r(void 0,void 0,void 0,(function(){var e;return o(this,(function(r){switch(r.label){case 0:return e=n||(0,i.getUUID)(),[4,a.localDb.users.insert({name:t,id:e})];case 1:return r.sent(),[2,{name:t,id:e}]}}))}))}},4890:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.catchErrors=void 0,t.catchErrors=function(e){var t=e.logger;self.addEventListener("error",(function(e){var n,r;t({type:"error",message:(e.message||(null===(n=e.error)||void 0===n?void 0:n.message))+1,stack:null===(r=e.error)||void 0===r?void 0:r.stack,filename:e.filename,lineno:e.lineno,colno:e.colno})})),self.addEventListener("unhandledrejection",(function(e){t({type:"error",message:e.reason.message,stack:e.reason.stack})}))}},7748:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getUUID=void 0,t.getUUID=function(){for(var e="",t=0;t<36;t++)e+=8===t||13===t||18===t||23===t?"-":14===t?"4":"0123456789abcdef"[Math.floor(16*Math.random())];return e}},3484:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPromotionMove=void 0;var r=n(1974);t.isPromotionMove=function(e,t){if(!("2"===e[1]&&"1"===e[3]||"7"===e[1]&&"8"===e[3]))return!1;var n=8-parseInt(e[1]),o=t.split(" ")[0].split("/")[n];return"p"===(0,r.expandFenRow)(o)[e.charCodeAt(0)-97].toLowerCase()}},2420:(e,t,n)=>{n.r(t),n.d(t,{cellIndex2cellStr:()=>r});const r=e=>`${String.fromCharCode(e%8+97)}${8-Math.floor(e/8)}`},1974:(e,t,n)=>{n.r(t),n.d(t,{expandFenRow:()=>r});const r=e=>{let t=e;for(const n of e)Number(n)&&(t=t.replace(n,"1".repeat(Number(n))));return t}},7994:(e,t,n)=>{n.r(t),n.d(t,{cellIndex2cellStr:()=>o,cellStr2cellIndex:()=>i,move2moveString:()=>a,moveString2move:()=>s});const r=["",null,"b","n","r","q"],o=e=>`${String.fromCharCode(e%8+97)}${8-Math.floor(e/8)}`,a=e=>`${o(e>>>10)}${o(63&e)}${(e=>r[e>>>6&7])(e)}`,i=e=>(8-Number(e[1])<<3)+(e.charCodeAt(0)-97),s=e=>(8-Number(e[1])<<13)+(e.charCodeAt(0)-97<<10)+(8-Number(e[3])<<3)+(e.charCodeAt(2)-97)+(e[4]?r.indexOf(e[4])<<6:0)},8391:(e,t,n)=>{n.r(t),n.d(t,{getFenDiff:()=>a});const r=e=>{const t=e.split(" ")[0].split("/"),n=[];return t.forEach(((e,t)=>{n[t]=[];let r=0;for(const o of e)if(isNaN(parseInt(o)))n[t][r]=o,r++;else for(let e=0;e<parseInt(o);e++)n[t][r]="-",r++})),n},o=(e,t)=>e.map((e=>t.map((t=>{const n=((e,t)=>Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1]))(e,t);return{distance:n,source:`${String.fromCharCode(97+e[0])}${8-e[1]}`,target:`${String.fromCharCode(97+t[0])}${8-t[1]}`}})))).flat().sort(((e,t)=>t.distance-e.distance)),a=(e,t)=>{const n=r(e),a=r(t),{addedPieces:i,removedPieces:s}=((e,t)=>{const n={},r={};for(let o=0;o<e.length;o++)for(let a=0;a<e[o].length;a++){const i=e[o][a],s=t[o][a];i!==s&&("-"!==i&&(r[i]=[...r[i]||[],[a,o]]),"-"!==s&&(n[s]=[...n[s]||[],[a,o]]))}return{addedPieces:n,removedPieces:r}})(n,a),l=[],c=[],d=[];for(const e of Object.keys({...s,...i})){const t=s[e],n=i[e],r=(n||[]).map((([e,t])=>`${String.fromCharCode(97+e)}${8-t}`));if(!t||!t.length){c.push(...r.map((t=>({square:t,piece:e}))));continue}const a=t.map((([e,t])=>`${String.fromCharCode(97+e)}${8-t}`));if(!n||!n.length){d.push(...a.map((t=>({square:t,piece:e}))));continue}const u=o(t,n);for(;a.length&&r.length&&u.length;){const t=u.pop();a.includes(t.source)&&r.includes(t.target)&&(l.push({piece:e,from:t.source,to:t.target}),a.splice(a.indexOf(t.source),1),r.splice(r.indexOf(t.target),1))}c.push(...r.map((t=>({square:t,piece:e})))),d.push(...a.map((e=>({square:e}))))}return(({movedPieces:e,addedPiecesResult:t,removedPiecesResult:n})=>{const r=e.slice(),o=t.slice(),a=n.slice();if(0===r.length&&1===o.length&&a.length>0){if("1"===o[0].square[1]){const e=a.findIndex((({square:e,piece:t})=>"p"===t&&"2"===e[1]));if(e>=0){const t={piece:o[0].piece,from:a[e].square,to:o[0].square};return o.pop(),a.splice(e,1),{movedPieces:r,addedPieces:o,removedPieces:a,promotionMove:t}}}if("8"===o[0].square[1]){const e=a.findIndex((({square:e,piece:t})=>"P"===t&&"7"===e[1]));if(e>=0){const t={piece:o[0].piece,from:a[e].square,to:o[0].square};return o.pop(),a.splice(e,1),{movedPieces:r,addedPieces:o,removedPieces:a,promotionMove:t}}}}return{movedPieces:r,addedPieces:o,removedPieces:a,promotionMove:null}})({addedPiecesResult:c,removedPiecesResult:d,movedPieces:l})}}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={id:e,exports:{}};return n[e].call(a.exports,a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nc=void 0,e=o(3137),t=o(7040),(0,e.init)({config:t.config})})();