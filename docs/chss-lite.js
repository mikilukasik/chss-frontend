(()=>{"use strict";var e={5855:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,'*{box-sizing:border-box}body{margin:0;font-family:Arial,sans-serif}.wrapper{display:grid;grid-template-columns:0 1fr;grid-template-rows:auto 1fr;grid-template-areas:"header header" "left main";height:100vh;transition:grid-template-columns .3s,grid-template-rows .3s}.header{grid-area:header;background-color:#2196f3;color:#fff;display:flex;justify-content:space-between;align-items:center;position:relative;z-index:2;justify-content:flex-start}.header-nav{padding:1rem}.left-bar{grid-area:left;background-color:#f5f5f5;padding:1rem;overflow-y:auto;display:block;position:fixed;top:50px;left:0;bottom:0;z-index:1;-webkit-transform:translateX(-100%);transform:translateX(-100%);transition:transform .3s ease-in-out;width:200px;opacity:.92}.left-bar.open{z-index:10;display:block;-webkit-transform:translateX(0);transform:translateX(0);transition:transform .3s ease-in-out}.main{grid-area:main;padding:0 0;overflow-y:hidden;transition:grid-template-columns .3s,grid-template-rows .3s}.hamburger{display:none;cursor:pointer;margin-right:auto;padding:.5rem 1rem 0 1rem;line-height:2rem}.hamburger-svg{height:1.5rem}@media(min-width: 1200px){.wrapper{grid-template-columns:200px 1fr;grid-template-rows:auto 1fr;grid-template-areas:"header header" "left main";transition:grid-template-columns .3s,grid-template-rows .3s}.left-bar{display:block;position:fixed;bottom:0;transform:translateX(0);transition:transform .3s ease-in-out}.hamburger{display:none}.main{padding:1rem}}@media(max-width: 1200px){.hamburger{display:block}}',""]);const s=i},1795:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".board{display:grid;grid-template-columns:repeat(8, 1fr);grid-gap:0;width:100%;padding-bottom:100%;position:relative;transition:transform .75s ease-in-out}.board.upside-down{transform:rotate(180deg)}.board-container{display:block;width:calc(100vw - 0px);height:calc(100vh - 0px);max-width:calc(min(100vw, 100vh - 80px) - 0px);max-height:calc(min(100vw, 100vh - 80px) - 0px);position:relative;overflow:hidden}",""]);const s=i},4214:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".square-wrapper{position:absolute;width:12.5%;height:12.5%}.square-wrapper:nth-child(1){top:0%;left:0%}.square-wrapper:nth-child(2){top:0%;left:12.5%}.square-wrapper:nth-child(3){top:0%;left:25%}.square-wrapper:nth-child(4){top:0%;left:37.5%}.square-wrapper:nth-child(5){top:0%;left:50%}.square-wrapper:nth-child(6){top:0%;left:62.5%}.square-wrapper:nth-child(7){top:0%;left:75%}.square-wrapper:nth-child(8){top:0%;left:87.5%}.square-wrapper:nth-child(9){top:12.5%;left:0%}.square-wrapper:nth-child(10){top:12.5%;left:12.5%}.square-wrapper:nth-child(11){top:12.5%;left:25%}.square-wrapper:nth-child(12){top:12.5%;left:37.5%}.square-wrapper:nth-child(13){top:12.5%;left:50%}.square-wrapper:nth-child(14){top:12.5%;left:62.5%}.square-wrapper:nth-child(15){top:12.5%;left:75%}.square-wrapper:nth-child(16){top:12.5%;left:87.5%}.square-wrapper:nth-child(17){top:25%;left:0%}.square-wrapper:nth-child(18){top:25%;left:12.5%}.square-wrapper:nth-child(19){top:25%;left:25%}.square-wrapper:nth-child(20){top:25%;left:37.5%}.square-wrapper:nth-child(21){top:25%;left:50%}.square-wrapper:nth-child(22){top:25%;left:62.5%}.square-wrapper:nth-child(23){top:25%;left:75%}.square-wrapper:nth-child(24){top:25%;left:87.5%}.square-wrapper:nth-child(25){top:37.5%;left:0%}.square-wrapper:nth-child(26){top:37.5%;left:12.5%}.square-wrapper:nth-child(27){top:37.5%;left:25%}.square-wrapper:nth-child(28){top:37.5%;left:37.5%}.square-wrapper:nth-child(29){top:37.5%;left:50%}.square-wrapper:nth-child(30){top:37.5%;left:62.5%}.square-wrapper:nth-child(31){top:37.5%;left:75%}.square-wrapper:nth-child(32){top:37.5%;left:87.5%}.square-wrapper:nth-child(33){top:50%;left:0%}.square-wrapper:nth-child(34){top:50%;left:12.5%}.square-wrapper:nth-child(35){top:50%;left:25%}.square-wrapper:nth-child(36){top:50%;left:37.5%}.square-wrapper:nth-child(37){top:50%;left:50%}.square-wrapper:nth-child(38){top:50%;left:62.5%}.square-wrapper:nth-child(39){top:50%;left:75%}.square-wrapper:nth-child(40){top:50%;left:87.5%}.square-wrapper:nth-child(41){top:62.5%;left:0%}.square-wrapper:nth-child(42){top:62.5%;left:12.5%}.square-wrapper:nth-child(43){top:62.5%;left:25%}.square-wrapper:nth-child(44){top:62.5%;left:37.5%}.square-wrapper:nth-child(45){top:62.5%;left:50%}.square-wrapper:nth-child(46){top:62.5%;left:62.5%}.square-wrapper:nth-child(47){top:62.5%;left:75%}.square-wrapper:nth-child(48){top:62.5%;left:87.5%}.square-wrapper:nth-child(49){top:75%;left:0%}.square-wrapper:nth-child(50){top:75%;left:12.5%}.square-wrapper:nth-child(51){top:75%;left:25%}.square-wrapper:nth-child(52){top:75%;left:37.5%}.square-wrapper:nth-child(53){top:75%;left:50%}.square-wrapper:nth-child(54){top:75%;left:62.5%}.square-wrapper:nth-child(55){top:75%;left:75%}.square-wrapper:nth-child(56){top:75%;left:87.5%}.square-wrapper:nth-child(57){top:87.5%;left:0%}.square-wrapper:nth-child(58){top:87.5%;left:12.5%}.square-wrapper:nth-child(59){top:87.5%;left:25%}.square-wrapper:nth-child(60){top:87.5%;left:37.5%}.square-wrapper:nth-child(61){top:87.5%;left:50%}.square-wrapper:nth-child(62){top:87.5%;left:62.5%}.square-wrapper:nth-child(63){top:87.5%;left:75%}.square-wrapper:nth-child(64){top:87.5%;left:87.5%}.square{display:flex;justify-content:center;align-items:center;width:100%;height:100%;position:relative}.square .cell-svg-container{position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%}.square .cell-svg-container .piece-svg{height:calc(min(100vw,100vh - 100px)/11);transition:transform .75s ease-in-out}.square .cell-svg-container .piece-svg.upside-down{transform:rotate(-180deg)}.white{background-color:#f0d9b5}.black{background-color:#b58863}.selected{background:radial-gradient(circle, rgb(251, 154, 63) 43%, rgba(0, 0, 0, 0) 100%)}.highlighted{background:radial-gradient(circle, rgb(251, 154, 63) 43%, rgba(0, 0, 0, 0) 100%)}",""]);const s=i},6415:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".game-wrapper{display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto 1fr;height:100%}.chessboard-wrapper{grid-column:1/1;grid-row:1/2}.right-panel{grid-column:1/1;grid-row:2/2;background-color:red}@media(min-width: 1040px){.chessboard-wrapper{grid-column:1/2;grid-row:1/1}.right-panel{grid-column:2/2;grid-row:1/1}}@media(min-width: 1040px){.chessboard-wrapper{padding:0 1rem 0 0}}",""]);const s=i},509:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,".modal-container{display:block;position:fixed;z-index:100;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,.4);transform:scale(0);transition:transform .3s ease-in-out}.modal-container.open{transform:scale(1)}.modal-container.open .modal-content{transform:scale(1);transition:transform .3s ease-in-out}.modal-content{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:fit-content;min-width:30%;text-align:center;transform:scale(0);transition:transform .3s ease-in-out;z-index:101}.close{color:#aaa;float:right;font-size:28px;font-weight:bold}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer}",""]);const s=i},1169:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,"body{background-color:silver}",""]);const s=i},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},8081:e=>{e.exports=function(e){return e[1]}},7252:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),a=n.n(r),o=n(7795),i=n.n(o),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),h=n(4589),f=n.n(h),v=n(5855),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),a()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},2460:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),a=n.n(r),o=n(7795),i=n.n(o),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),h=n(4589),f=n.n(h),v=n(1795),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),a()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},6657:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),a=n.n(r),o=n(7795),i=n.n(o),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),h=n(4589),f=n.n(h),v=n(4214),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),a()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},1345:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),a=n.n(r),o=n(7795),i=n.n(o),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),h=n(4589),f=n.n(h),v=n(6415),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),a()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},5075:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),a=n.n(r),o=n(7795),i=n.n(o),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),h=n(4589),f=n.n(h),v=n(509),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),a()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},4927:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(3379),a=n.n(r),o=n(7795),i=n.n(o),s=n(569),l=n.n(s),c=n(3565),d=n.n(c),u=n(9216),p=n.n(u),h=n(4589),f=n.n(h),v=n(1169),m={};m.styleTagTransform=f(),m.setAttributes=d(),m.insert=l().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),a()(v.Z,m);const b=v.Z&&v.Z.locals?v.Z.locals:void 0},3379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],d=o[c]||0,u="".concat(c," ").concat(d);o[c]=d+1;var p=n(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=a(h,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:f,references:1})}i.push(u)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var l=r(e,a),c=0;c<o.length;c++){var d=n(o[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=l}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9677:function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.component=void 0;var a=n(2656);t.component=function(e,t){return function(n,o){if(!n)throw new Error("component called without id");var i=r(r({},o),{id:n});return(0,a.renderComponent)(n,e,i,t)}}},9815:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Router=t.Link=t.navigate=void 0;var a,o=n(7437),i=(0,o.createState)({currentRoute:"/"});t.navigate=function(e){history.pushState(null,"",e),i.currentRoute=e},t.Link=(0,o.component)((function(e){var n=e.to,i=e.children;return(0,o.html)(a||(a=r(['\n    <a\n      href="','"\n      onclick="','"\n    >\n      ',"\n    </a>\n  "],['\n    <a\n      href="','"\n      onclick="','"\n    >\n      ',"\n    </a>\n  "])),n,(0,o.handler)((function(e){e.preventDefault(),(0,t.navigate)(n)})),i)})),t.Router=(0,o.component)((function(e){var t=e.routerId,n=e.routes,r=void 0===n?{}:n;return(r[i.currentRoute]||r["*"])("".concat(t,"/").concat(i.currentRoute))})),window.addEventListener("popstate",(function(){i.currentRoute=window.location.pathname}))},3129:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(9815),t)},8866:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LITSTATE=void 0,t.LITSTATE={handlersPerComponent:{},components:{},componentsCurrentProps:{},elementsWithIds:{},listenerBeingExecuted:null,componentBeingRendered:null},Object.assign(window,{LITSTATE:t.LITSTATE})},2837:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handler=void 0;var r=n(8866);t.handler=function(e){var t=r.LITSTATE.componentBeingRendered||"global",n=Math.random().toString().replace("0.","lsHandler");return r.LITSTATE.handlersPerComponent[t]||(r.LITSTATE.handlersPerComponent[t]={}),r.LITSTATE.handlersPerComponent[t][n]=function(t,n){return e(t,n)},"window.LITSTATE.handlersPerComponent['".concat(t,"']['").concat(n,"'](event, this)")}},1046:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.html=void 0,t.html=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r="",a=0;a<e.length;a++)r+=e[a],a<t.length&&(r+=t[a]);return r}},7437:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(248),t),a(n(9677),t),a(n(2837),t),a(n(1046),t),a(n(4021),t)},4021:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mount=void 0;var r=n(1740);t.mount=function(e,t){(0,r.updateComponentInDom)(t,e)}},7702:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.recursivelyUpdateComponentInDom=t.tempId=void 0;var n=function(e,t){if(!e.isEqualNode(t)&&(function(e,t){if(e.nodeType===Node.ELEMENT_NODE&&t.nodeType===Node.ELEMENT_NODE){for(var n=e,r=t,a=0,o=n.getAttributeNames();a<o.length;a++){var i=o[a];n.getAttribute(i)!==r.getAttribute(i)&&r.setAttribute(i,n.getAttribute(i))}for(var s=0,l=r.getAttributeNames();s<l.length;s++)i=l[s],n.hasAttribute(i)||r.removeAttribute(i)}}(e,t),!e.isEqualNode(t))){var r=e.hasChildNodes(),a=t.hasChildNodes();if(r&&a){var o=Array.from(e.childNodes),i=Array.from(t.childNodes);for(o.forEach((function(e,r){if(e){var a=i[r];a?n(e,a):t.appendChild(e.cloneNode(!0))}}));i.length>o.length;){var s=i.findIndex((function(e){return!o.includes(e)}));if(s<0)throw new Error("couldnt find childnode to remove");try{t.removeChild(i[s])}catch(e){console.warn(e)}i.splice(s,1)}if(e.isEqualNode(t))return;if(!e.hasChildNodes())throw new Error("ran out of child nodes")}t.replaceWith(e.cloneNode(!0))}};t.tempId="__LITSTATE__TEMP__ID__",t.recursivelyUpdateComponentInDom=function(e,t){if(t){var r=document.getElementById(e);if(r){var a=(new DOMParser).parseFromString("<body>".concat(t,"</body>"),"text/html").body.firstElementChild;if(!a)return console.warn("empty element rendered"),void(r.innerHTML="");n(a,r)}}}},2656:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderComponent=void 0;var r=n(8866),a=n(248),o=n(7702),i=r.LITSTATE.componentsCurrentProps;t.renderComponent=function(e,t,n,s){var l=r.LITSTATE.componentBeingRendered;r.LITSTATE.componentBeingRendered=e;var c=s?"object"==typeof s?s:s(n):{};c.class&&c.class.startsWith("board-container")&&console.log(c);var d=(0,a.addListener)((function(){var a='<span id="'.concat(e,'" ').concat(Object.keys(c).map((function(e){return"".concat(e,'="').concat(c[e],'"')})).join(" "),">").concat(t(n||i[e]),"</span>");return r.LITSTATE.componentsCurrentProps[e]=n,(0,o.recursivelyUpdateComponentInDom)(e.toString(),a),a}),"renderListener-".concat(e));return r.LITSTATE.componentBeingRendered=l,d}},248:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createState=t.batchUpdate=t.addListener=void 0;var r=null,a={},o=null;t.addListener=function(e,t){var n=r;r=t,a[t]=e;var o=e();return r=n,o},t.batchUpdate=function(e){o=[],e(),o.forEach((function(e){return e()})),o=null},t.createState=function(e){if(null===e)return null;var i;Array.isArray(e)?i=e.map((function(e){return"object"==typeof e?(0,t.createState)(e):e})):(i=n({},e),Object.keys(i).forEach((function(e){"object"==typeof i[e]&&(i[e]=(0,t.createState)(i[e]))})));var s={},l=function(e){return(s[e]||[]).forEach((function(e){return a[e]()}))};return new Proxy(i,{get:function(e,t){var n=t.toString();return r&&((s[n]||[]).includes(r)||(s[n]||(s[n]=[]),s[n].push(r))),e[n]},set:function(e,r,a){var i=r.toString();return"object"==typeof a&&null!==a?(e[i]=(0,t.createState)(Array.isArray(a)?a.slice():n({},a)),o?o.push((function(){l(i)})):l(i),!0):(e[i]=a,o?o.push((function(){l(i)})):l(i),!0)}})}},1740:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateComponentInDom=void 0;var r=n(8866),a=function(e){var t={};return function e(n){n.id&&!n.id.startsWith("lsComponent")&&(t[n.id]=n);for(var r=0,a=Array.from(n.children);r<a.length;r++)e(a[r])}(e),t};t.updateComponentInDom=function(e,t){var n=(new DOMParser).parseFromString("<body>".concat(t,"</body>"),"text/html").body.firstElementChild;if(n){var o=a(n);if(o){if(Object.keys(o).reduce((function(e,t){return!r.LITSTATE.elementsWithIds[t]||(function(e,t){for(var n=0,r=Array.from(e.attributes);n<r.length;n++){var a=r[n],o=a.name,i=a.value;t.getAttribute(o)!==i&&t.setAttribute(o,i)}}(o[t],r.LITSTATE.elementsWithIds[t]),e)}),!1)){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n);var i=a(e);Object.assign(r.LITSTATE.elementsWithIds,i)}else if(!n.isEqualNode(e.firstElementChild)){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n);var s=a(e);Object.assign(r.LITSTATE.elementsWithIds,s)}}else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n)}}else e.innerHTML=""}},9265:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var a=n(7437),o=n(3129),i=n(2538),s=n(7733),l=n(3860),c=n(9070);n(7252);var d,u=(0,a.handler)((function(){return(0,l.toggleLeftBar)()})).trim();t.App=(0,a.component)((function(){return(0,a.html)(d||(d=r(['\n    <div class="wrapper">\n      ','\n      <div class="header">\n        <div\n          id="hamburger"\n          class="hamburger"\n          onclick="','"\n        >\n          <img\n            class="hamburger-svg"\n            src="assets/svg/Hamburger_icon.svg"\n            alt="Toggle left menu bar"\n          />\n        </div>\n        ',"\n      </div>\n      ",'\n      <div class="main">',"</div>\n    </div>\n  "],['\n    <div class="wrapper">\n      ','\n      <div class="header">\n        <div\n          id="hamburger"\n          class="hamburger"\n          onclick="','"\n        >\n          <img\n            class="hamburger-svg"\n            src="assets/svg/Hamburger_icon.svg"\n            alt="Toggle left menu bar"\n          />\n        </div>\n        ',"\n      </div>\n      ",'\n      <div class="main">',"</div>\n    </div>\n  "])),(0,c.Modal)("main-modal"),u,(0,s.HeaderNav)("header-nav"),(0,l.LeftBar)("left-bar"),(0,o.Router)("router",{routes:i.routes}))}))},7990:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Chessboard=void 0,n(2460);var a,o=n(7437),i=n(6866),s=n(4078);t.Chessboard=(0,o.component)((function(){for(var e="",t=0,n=0,l=i.chessboardState.prevFen.split(" ")[0].split("/").join("");n<l.length;n++){var c=l[n];if(isNaN(parseInt(c)))e+=(0,s.BoardCell)("board-cell-".concat(t),{index:t,char:c}),t+=1;else for(var d=0;d<parseInt(c);d++)e+=(0,s.BoardCell)("board-cell-".concat(t),{index:t}),t+=1}return(0,o.html)(a||(a=r(['<div\n      class="board','"\n    >\n      ',"\n    </div>"],['<div\n      class="board','"\n    >\n      ',"\n    </div>"])),i.chessboardState.rotated?" upside-down":"",e)}),{class:"board-container"})},8221:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.animateBoardChanges=void 0;var o=n(8391),i=n(4078),s=n(6866);t.animateBoardChanges=function(e){return void 0===e&&(e=.5),r(void 0,void 0,void 0,(function(){function t(e){return{x:100*(e.charCodeAt(0)-97),y:100*(8-parseInt(e.charAt(1)))}}var n,r,l,c,d;return a(this,(function(a){return(n=document.querySelector(".board"))?(r=(0,o.getFenDiff)(s.chessboardState.prevFen,s.chessboardState.fen),l=r.addedPieces,c=r.removedPieces,d=r.movedPieces,c.forEach((function(t){var r=t.square,a=n.querySelector('[data-square="'.concat(r,'"]'));a.style.transition="transform ".concat(e,"s ease-out"),a.style.transform="scale(0)",a.addEventListener("transitionend",(function(){}))})),d.forEach((function(r){r.piece;var a=r.from,o=r.to,i=n.querySelector('[data-square="'.concat(a,'"]')),s=function(e,n){var r=t(e),a=t(n);return{x:a.x-r.x,y:a.y-r.y}}(a,o);i.style.zIndex="1",i.style.transition="transform ".concat(e,"s ease-out"),i.style.transform="translate(".concat(s.x,"%, ").concat(s.y,"%)"),i.style.transformOrigin="0 0",i.addEventListener("transitionend",(function(){}))})),l.forEach((function(t){var n=t.piece,r=t.square,a=document.createElement("div");a.innerHTML=(0,i.BoardCellContent)("board-cell-content-".concat(r,"-temp"),{char:n,cellStr:r}),a.style.transform="scale(0)",document.getElementById("board-square-".concat(r)).appendChild(a),setTimeout((function(){a.style.transition="transform ".concat(e,"s ease-out"),a.style.transform="scale(1)",a.addEventListener("transitionend",(function(){}))}),0)})),[2,new Promise((function(t){return setTimeout(t,1e3*e)}))]):[2]}))}))}},6866:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.chessboardState=void 0;var o=n(7437),i=n(8221),s="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",l=["g1f3","g1h3","b1a3","b1c3","h2h3","h2h4","g2g3","g2g4","f2f3","f2f4","e2e3","e2e4","d2d3","d2d4","c2c3","c2c4","b2b3","b2b4","a2a3","a2a4"],c=new Array(64).fill(255),d=c.slice(),u=function(e){return Object.keys(e.reduce((function(e,t){return e[t.substring(0,2)]=!0,e}),{}))},p=u(l);t.chessboardState=(0,o.createState)({fen:s,prevFen:s,nextMoves:l,movableCells:p,targetCells:{},chessBoardUpdating:!1,selectedCell:null,lmf:c,lmt:d,rotated:!1,computerPlaysLight:!1,computerPlaysLightPrevVal:!1,computerPlaysDarkPrevVal:!1,computerPlaysDark:!0,makeMove:function(e){return r(void 0,void 0,void 0,(function(){return a(this,(function(e){return[2]}))}))}}),t.chessboardState.makeMove=function(e){return r(void 0,void 0,void 0,(function(){var n,r,o,i;return a(this,(function(a){switch(a.label){case 0:return[4,window.CHSS.mainWorker.do("getMovedFen",{moveString:e,fen:t.chessboardState.fen,lmf:Array.from(t.chessboardState.lmf),lmt:Array.from(t.chessboardState.lmt)})];case 1:return n=a.sent(),r=n.fen,o=n.lmf,i=n.lmt,Object.assign(t.chessboardState,{fen:r,lmf:o,lmt:i}),[2]}}))}))};var h=function(){var e=t.chessboardState.fen.split(" ")[1];("b"===e&&t.chessboardState.computerPlaysDark||"w"===e&&t.chessboardState.computerPlaysLight)&&(console.log({nextPiece:e},t.chessboardState.computerPlaysDark,t.chessboardState.computerPlaysLight),window.CHSS.mainWorker.do("getAiMovedFen",{fen:t.chessboardState.fen,lmf:Array.from(t.chessboardState.lmf),lmt:Array.from(t.chessboardState.lmt)}).then((function(e){return Object.assign(t.chessboardState,e)})))};(0,o.addListener)((function(){t.chessboardState.computerPlaysLightPrevVal===t.chessboardState.computerPlaysLight&&t.chessboardState.computerPlaysDarkPrevVal===t.chessboardState.computerPlaysDark||((0,o.batchUpdate)((function(){t.chessboardState.computerPlaysDarkPrevVal=t.chessboardState.computerPlaysDark,t.chessboardState.computerPlaysLightPrevVal=t.chessboardState.computerPlaysLight})),h())}),"computerSideChanged"),(0,o.addListener)((function(){t.chessboardState.prevFen===t.chessboardState.fen||t.chessboardState.chessBoardUpdating||(Object.assign(t.chessboardState,{chessBoardUpdating:!0,selectedCell:null,targetCells:[]}),(0,i.animateBoardChanges)(.3).then((function(){Object.assign(t.chessboardState,{prevFen:t.chessboardState.fen,chessBoardUpdating:!1}),h()})),window.CHSS.mainWorker.do("getNextMoves",{fen:t.chessboardState.fen}).then((function(e){var n=u(e);Object.assign(t.chessboardState,{nextMoves:e,movableCells:n})})))}),"fen-update-listener"),(0,o.addListener)((function(){t.chessboardState.selectedCell&&t.chessboardState.nextMoves&&0!==t.chessboardState.nextMoves.length?t.chessboardState.targetCells=t.chessboardState.nextMoves.reduce((function(e,n){return n.startsWith(t.chessboardState.selectedCell)&&(e[n.substring(2,4)]=!0),e}),{}):t.chessboardState.targetCells={}}),"selected-cell-listener")},4078:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.BoardCell=t.BoardCellContent=void 0,n(6657);var i,s,l=n(7437),c=n(1651),d=n(2420),u=n(6866),p=n(5387),h=n(3484),f=n(9070),v=n(6947);p.CHSS.handlers.cellClickHandler=function(e){return a(void 0,void 0,void 0,(function(){var t,n,r;return o(this,(function(a){switch(a.label){case 0:return u.chessboardState.selectedCell!==e?[3,1]:(u.chessboardState.selectedCell=null,[3,5]);case 1:return u.chessboardState.movableCells.includes(e)?(u.chessboardState.selectedCell=e,[3,5]):[3,2];case 2:return u.chessboardState.targetCells[e]?(t=u.chessboardState.selectedCell+e,(0,h.isPromotionMove)(t,u.chessboardState.fen)?[4,(0,f.renderModal)((function(e){return(0,v.PromotionSelectorModal)("promotion-selector-modal",{resolve:e,pieces:"w"===u.chessboardState.fen.split(" ")[1]?["Q","N","R","B"]:["q","n","r","b"]})}),{allowClose:!1})]:[3,4]):[3,5];case 3:return n=a.sent(),r=t+n.toLowerCase(),u.chessboardState.makeMove(r),[2];case 4:u.chessboardState.makeMove(t),a.label=5;case 5:return[2]}}))}))},t.BoardCellContent=(0,l.component)((function(e){var t=e.char,n=e.cellStr;return t?(0,l.html)(i||(i=r(['<img\n          id="piece-svg-',"-",'"\n          class="piece-svg','"\n          src="assets/svg/','"\n          alt="'," on ",'"\n        />'],['<img\n          id="piece-svg-',"-",'"\n          class="piece-svg','"\n          src="assets/svg/','"\n          alt="'," on ",'"\n        />'])),n,t,u.chessboardState.rotated?" upside-down":"",c.pieceFilenames[t],c.pieceNames[t],n):""}),(function(e){var t=e.cellStr;return{class:"cell-svg-container".concat(u.chessboardState.selectedCell===t?" selected":"").concat(u.chessboardState.targetCells[t]?" highlighted":""),"data-square":t}})),t.BoardCell=(0,l.component)((function(e){var n=e.index,a=e.char,o=(0,d.cellIndex2cellStr)(n);return(0,l.html)(s||(s=r(['<div\n      id="board-square-','"\n      onclick="CHSS.handlers.cellClickHandler(\'','\')"\n      class="square ','"\n    >\n      ',"\n    </div> "],['<div\n      id="board-square-','"\n      onclick="CHSS.handlers.cellClickHandler(\'','\')"\n      class="square ','"\n    >\n      ',"\n    </div> "])),o,o,(n+Math.floor(n/8))%2?"black":"white",(0,t.BoardCellContent)("board-cell-content-".concat(o),{cellStr:o,char:a}))}),{class:"square-wrapper"})},8255:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var a=n(7437),o=n(7990),i=n(6866);n(1345);var s,l=(0,a.handler)((function(){return i.chessboardState.rotated=!i.chessboardState.rotated}));t.Game=(0,a.component)((function(){return(0,a.html)(s||(s=r(['\n    <div class="game-wrapper">\n      <div class="chessboard-wrapper">','</div>\n      <div class="right-panel">\n        <button onclick="','">rotate</button>\n      </div>\n    </div>\n  '],['\n    <div class="game-wrapper">\n      <div class="chessboard-wrapper">','</div>\n      <div class="right-panel">\n        <button onclick="','">rotate</button>\n      </div>\n    </div>\n  '])),(0,o.Chessboard)("main-chessboard"),l)}))},7733:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderNav=void 0;var a,o=n(7437),i=n(3129);t.HeaderNav=(0,o.component)((function(){return(0,o.html)(a||(a=r(['<div class="header-nav">\n      Header ',"\n    </div>"],['<div class="header-nav">\n      Header ',"\n    </div>"])),(0,i.Link)("nav-link-to-game",{to:"/game",children:"Game"}))}))},3860:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.LeftBar=t.toggleLeftBar=void 0;var a,o=n(7437),i=(0,o.createState)({leftBarClass:"closed"});t.toggleLeftBar=function(){i.leftBarClass="open"===i.leftBarClass?"closed":"open"},t.LeftBar=(0,o.component)((function(){return(0,o.html)(a||(a=r(['\n    <div id="left-bar" class="left-bar ','">\n      <p>Left bar content...</p>\n    </div>\n  '],['\n    <div id="left-bar" class="left-bar ','">\n      <p>Left bar content...</p>\n    </div>\n  '])),i.leftBarClass)}))},9070:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=t.renderModal=void 0,n(5075);var a=n(7437),o=(0,a.createState)({open:!1,content:"",resolve:function(e){},allowClose:!0});t.renderModal=function(e,t){void 0===t&&(t={});var n=t.allowClose,r=void 0===n||n;return o.allowClose=r,new Promise((function(t){Object.assign(o,{content:e((function(e){o.open=!1,t(e)})),open:!0,resolve:t})}))};var i,s=(0,a.handler)((function(e,t){e.preventDefault(),"modal-container"!==t.id&&"modal-close-button"!==t.id||(o.open=!1,o.resolve(null))}));t.Modal=(0,a.component)((function(){return(0,a.html)(i||(i=r(['\n    <div\n      class="modal-container','"\n      onclick="','"\n      id="modal-container"\n    >\n      <div\n        class="modal-content"\n        id="modal-content"\n        onclick="event.stopPropagation()"\n      >\n        ',"\n        ","\n      </div>\n    </div>\n  "],['\n    <div\n      class="modal-container','"\n      onclick="','"\n      id="modal-container"\n    >\n      <div\n        class="modal-content"\n        id="modal-content"\n        onclick="event.stopPropagation()"\n      >\n        ',"\n        ","\n      </div>\n    </div>\n  "])),o.open?" open":"",o.allowClose?s:"",o.allowClose?'<span class="close" onclick="'.concat(s,'" id="modal-close-button">\n              &times;\n            </span>'):"",o.content)}))},4428:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.NewGameModal=void 0;var a,o=n(7437),i=n(1651),s={resolver:function(e){}},l=(0,o.handler)((function(e,t){"play-with-dark-button"===(null==t?void 0:t.id)&&s.resolver({computerPlaysDark:!1,computerPlaysLight:!0,rotated:!0}),"play-with-light-button"===(null==t?void 0:t.id)&&s.resolver({computerPlaysLight:!1,computerPlaysDark:!0})}));t.NewGameModal=(0,o.component)((function(e){var t=e.resolve;return s.resolver=t,(0,o.html)(a||(a=r(['\n    <div>\n      <button onclick="','" id="play-with-light-button">\n        Play with light\n        <br />\n        <img\n          class="piece-svg"\n          src="assets/svg/','"\n          alt="Play with light"\n        />\n      </button>\n\n      <button onclick="','" id="play-with-dark-button">\n        Play with dark\n        <br />\n        <img\n          class="piece-svg"\n          src="assets/svg/','"\n          alt="Play with dark"\n        />\n      </button>\n    </div>\n  '],['\n    <div>\n      <button onclick="','" id="play-with-light-button">\n        Play with light\n        <br />\n        <img\n          class="piece-svg"\n          src="assets/svg/','"\n          alt="Play with light"\n        />\n      </button>\n\n      <button onclick="','" id="play-with-dark-button">\n        Play with dark\n        <br />\n        <img\n          class="piece-svg"\n          src="assets/svg/','"\n          alt="Play with dark"\n        />\n      </button>\n    </div>\n  '])),l,i.pieceFilenames.P,l,i.pieceFilenames.p)}))},6947:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.PromotionSelectorModal=void 0;var a,o,i=n(7437),s=n(1651),l={resolver:function(e){}},c=(0,i.handler)((function(e,t){var n,r;if(null===(n=null==t?void 0:t.id)||void 0===n?void 0:n.startsWith("promote-to-")){var a=null===(r=null==t?void 0:t.id)||void 0===r?void 0:r.replace("promote-to-","");l.resolver(a)}}));t.PromotionSelectorModal=(0,i.component)((function(e){var t=e.resolve,n=e.pieces;return l.resolver=t,(0,i.html)(o||(o=r(["\n    <div>\n      ","\n    </div>\n  "],["\n    <div>\n      ","\n    </div>\n  "])),n.map((function(e){return(0,i.html)(a||(a=r(['\n            <button onclick="','" id="promote-to-','">\n              <img\n                class="piece-svg"\n                src="assets/svg/','"\n                alt="Promote pawn to ','"\n              />\n            </button>\n          '],['\n            <button onclick="','" id="promote-to-','">\n              <img\n                class="piece-svg"\n                src="assets/svg/','"\n                alt="Promote pawn to ','"\n              />\n            </button>\n          '])),c,e,s.pieceFilenames[e],s.pieceNames[e])})).join(""))}))},5387:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CHSS=void 0;var r=n(6866);t.CHSS={handlers:{},setFen:function(e){return r.chessboardState.fen=e}},Object.assign(window,{CHSS:t.CHSS})},3403:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;switch(r=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1],a=s;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(s);break}a[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.initApp=void 0;var o=n(6866),i=n(9070),s=n(4428);t.initApp=function(){setTimeout((function(){return r(void 0,void 0,void 0,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,(0,i.renderModal)((function(e){return(0,s.NewGameModal)("new-game-modal",{resolve:e})}),{allowClose:!1})];case 1:return e=t.sent(),Object.assign(o.chessboardState,e),[2]}}))}))}),0)}},1651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pieceNames=t.pieceFilenames=t.pieceChars=void 0,t.pieceChars={K:{char:"♔",class:"white-piece"},Q:{char:"♕",class:"white-piece"},R:{char:"♖",class:"white-piece"},B:{char:"♗",class:"white-piece"},N:{char:"♘",class:"white-piece"},P:{char:"♙",class:"white-piece"},k:{char:"♚",class:"black-piece"},q:{char:"♛",class:"black-piece"},r:{char:"♜",class:"black-piece"},b:{char:"♝",class:"black-piece"},n:{char:"♞",class:"black-piece"},p:{char:"♟︎",class:"black-piece"}},t.pieceFilenames={K:"Chess_klt45.svg",Q:"Chess_qlt45.svg",R:"Chess_rlt45.svg",B:"Chess_blt45.svg",P:"Chess_plt45.svg",N:"Chess_nlt45.svg",k:"Chess_kdt45.svg",q:"Chess_qdt45.svg",r:"Chess_rdt45.svg",b:"Chess_bdt45.svg",n:"Chess_ndt45.svg",p:"Chess_pdt45.svg"},t.pieceNames={K:"Light King",Q:"Light Queen",R:"Light Rook",B:"Light Bishop",P:"Light Pawn",N:"Light Knight",k:"Dark King",q:"Dark Queen",r:"Dark Rook",b:"Dark Bishop",n:"Dark Knight",p:"Dark Pawn"}},2538:function(e,t,n){var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0}),t.routes=void 0;var a,o=n(7437),i=n(8255);t.routes={"/":i.Game,"/game":i.Game,"*":function(){return(0,o.html)(a||(a=r(["<h1>404 Not Found</h1>"],["<h1>404 Not Found</h1>"])))}}},3484:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isPromotionMove=void 0;var r=n(1974);t.isPromotionMove=function(e,t){if(!("2"===e[1]&&"1"===e[3]||"7"===e[1]&&"8"===e[3]))return!1;var n=8-parseInt(e[1]),a=t.split(" ")[0].split("/")[n];return"p"===(0,r.expandFenRow)(a)[e.charCodeAt(0)-97].toLowerCase()}},2420:(e,t,n)=>{n.r(t),n.d(t,{cellIndex2cellStr:()=>r});const r=e=>`${String.fromCharCode(e%8+97)}${8-Math.floor(e/8)}`},1974:(e,t,n)=>{n.r(t),n.d(t,{expandFenRow:()=>r});const r=e=>{let t=e;for(const n of e)Number(n)&&(t=t.replace(n,"1".repeat(Number(n))));return t}},8391:(e,t,n)=>{n.r(t),n.d(t,{getFenDiff:()=>o});const r=e=>{const t=e.split(" ")[0].split("/"),n=[];return t.forEach(((e,t)=>{n[t]=[];let r=0;for(const a of e)if(isNaN(parseInt(a)))n[t][r]=a,r++;else for(let e=0;e<parseInt(a);e++)n[t][r]="-",r++})),n},a=(e,t)=>e.map((e=>t.map((t=>{const n=((e,t)=>Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1]))(e,t);return{distance:n,source:`${String.fromCharCode(97+e[0])}${8-e[1]}`,target:`${String.fromCharCode(97+t[0])}${8-t[1]}`}})))).flat().sort(((e,t)=>t.distance-e.distance)),o=(e,t)=>{const n=r(e),o=r(t),{addedPieces:i,removedPieces:s}=((e,t)=>{const n={},r={};for(let a=0;a<e.length;a++)for(let o=0;o<e[a].length;o++){const i=e[a][o],s=t[a][o];i!==s&&("-"!==i&&(r[i]=[...r[i]||[],[o,a]]),"-"!==s&&(n[s]=[...n[s]||[],[o,a]]))}return{addedPieces:n,removedPieces:r}})(n,o),l=[],c=[],d=[];for(const e of Object.keys({...s,...i})){const t=s[e],n=i[e],r=(n||[]).map((([e,t])=>`${String.fromCharCode(97+e)}${8-t}`));if(!t||!t.length){c.push(...r.map((t=>({square:t,piece:e}))));continue}const o=t.map((([e,t])=>`${String.fromCharCode(97+e)}${8-t}`));if(!n||!n.length){d.push(...o.map((e=>({square:e}))));continue}const u=a(t,n);for(;o.length&&r.length&&u.length;){const t=u.pop();o.includes(t.source)&&r.includes(t.target)&&(l.push({piece:e,from:t.source,to:t.target}),o.splice(o.indexOf(t.source),1),r.splice(r.indexOf(t.target),1))}c.push(...r.map((t=>({square:t,piece:e})))),d.push(...o.map((e=>({square:e}))))}return{addedPieces:c,removedPieces:d,movedPieces:l}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,(()=>{var e=n(7437),t=n(9265),r=n(3403);n(4927);var a=document.getElementById("app-container");if(!a)throw new Error("App container not found.");(0,e.mount)((0,t.App)("app-root"),a),(0,r.initApp)()})()})();